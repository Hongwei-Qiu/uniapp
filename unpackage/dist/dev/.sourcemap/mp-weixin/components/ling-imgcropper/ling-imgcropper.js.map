<<<<<<< HEAD
{"version":3,"sources":["webpack:///C:/Users/123/Desktop/uni/uniapp/components/ling-imgcropper/ling-imgcropper.vue?d264","webpack:///C:/Users/123/Desktop/uni/uniapp/components/ling-imgcropper/ling-imgcropper.vue?8101","webpack:///C:/Users/123/Desktop/uni/uniapp/components/ling-imgcropper/ling-imgcropper.vue?df44","webpack:///C:/Users/123/Desktop/uni/uniapp/components/ling-imgcropper/ling-imgcropper.vue?2a62","uni-app:///components/ling-imgcropper/ling-imgcropper.vue","webpack:///C:/Users/123/Desktop/uni/uniapp/components/ling-imgcropper/ling-imgcropper.vue?5a53","webpack:///C:/Users/123/Desktop/uni/uniapp/components/ling-imgcropper/ling-imgcropper.vue?c216"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwI;AACxI;AACmE;AACL;AACqC;;;AAGnG;AACiL;AACjL,gBAAgB,mLAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,sGAAM;AACR,EAAE,+GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqqB,CAAgB,upBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+DzrB;AACA,uBADA;AAEA;AACA;AACA,kBADA;AAEA,kBAFA,EADA;;AAKA;AACA,kBADA;AAEA,kBAFA,EALA;;AASA;AACA,mBADA;AAEA,oBAFA,EATA;;AAaA;AACA,mBADA;AAEA,oBAFA,EAbA;;AAiBA;AACA,kBADA,EAjBA;;AAoBA;AACA,mBADA;AAEA,mBAFA,EApBA;;AAwBA;AACA,mBADA;AAEA,mBAFA,EAxBA;;AA4BA;AACA,kBADA;AAEA,gBAFA,EA5BA,EAFA;;;AAmCA,MAnCA,kBAmCA;AACA;AACA;AACA;AACA,iBADA;AAEA,cAFA;AAGA,eAHA;AAIA,cAJA;AAKA,cALA;AAMA,iBANA;AAOA,iBAPA;AAQA,sBARA;AASA,4BATA;AAUA,uBAVA;AAWA,wBAXA;AAYA,qBAZA;AAaA,qBAbA;AAcA,eAdA;AAeA,eAfA;AAgBA;AACA,eAjBA;AAkBA,UAlBA;AAmBA,UAnBA;AAoBA,eApBA;AAqBA,iBArBA;AAsBA,mBAtBA;;AAwBA,GA9DA;AA+DA;AACA,OADA,eACA,GADA,EACA;AACA;AACA;AACA;AACA,KALA;AAMA,QANA,gBAMA,GANA,EAMA;AACA;AACA;AACA;AACA,KAVA,EA/DA;;AA2EA;AACA,gBADA,0BACA;AACA;;;;AAIA;AACA,KAPA;AAQA;AACA,mBATA,6BASA;AACA;AACA,KAXA;AAYA;AACA,eAbA,yBAaA;AACA;AACA,KAfA;AAgBA,gBAhBA,0BAgBA;AACA;AACA,KAlBA;AAmBA;AACA,cApBA,wBAoBA;AACA;AACA;AACA;AACA;AACA,KAzBA;AA0BA;AACA,cA3BA,wBA2BA;AACA;AACA;AACA;AACA;AACA,KAhCA;AAiCA;AACA,eAlCA,yBAkCA;AACA;AACA;AACA;AACA;AACA,KAvCA,EA3EA;;AAoHA;AACA,cADA,wBACA;;AAEA;AACA,KAJA;;AAMA,iBANA,2BAMA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAZA;AAaA,QAbA,kBAaA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBADA;;AAGA;AACA;AACA,OAFA,EAEA,KAFA,CAEA;AACA;AACA;AACA,qBADA;AAEA,2BAFA;;AAIA,OARA;AASA,KA/BA;AAgCA,aAhCA,qBAgCA,GAhCA,EAgCA;AACA;AACA;AACA;AACA,kBADA;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAHA;AAIA;AACA,WAhBA;AAiBA;AACA;AACA;AACA,WApBA;;AAsBA,OAvBA,EAuBA,KAvBA,CAuBA,eAvBA;;AAyBA,KA3DA;AA4DA,UA5DA,oBA4DA;AACA;AACA;AACA,KA/DA;AAgEA,WAhEA,mBAgEA,KAhEA,EAgEA;AACA;AACA,uBADA;;;AAIA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAjBA;;;;;AAsBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;;AAEA;AACA,8BADA;AAEA,6CAFA;AAGA,8CAHA;AAIA;AACA;AACA;AACA;AACA;AACA,WATA;AAUA;AACA;AACA;AACA,yBADA;AAEA,6BAFA;;AAIA,WAhBA;AAiBA,aAjBA;AAkBA,OApBA;;AAsBA,KAzKA;AA0KA,iBA1KA,yBA0KA,CA1KA,EA0KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAFA;;;AAKA;;AAEA,OAZA,MAYA;AACA;AACA;AACA;AACA;AACA,KA5LA;AA6LA,cA7LA,sBA6LA,CA7LA,EA6LA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,sBAFA;;;AAKA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BADA;AAEA,6BAHA;AAIA;AACA;;AAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AAEA;AACA,OAjCA,MAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3OA;AA4OA,cA5OA,wBA4OA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KAhPA;AAiPA,cAjPA,sBAiPA,CAjPA,EAiPA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAzPA;AA0PA,eA1PA,uBA0PA,CA1PA,EA0PA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAlQA;AAmQA,YAnQA,oBAmQA,CAnQA,EAmQA,IAnQA,EAmQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBA9BA;;AAgCA,KAzSA;AA0SA,gBA1SA,wBA0SA,CA1SA,EA0SA;AACA;AACA;AACA;AACA,KA9SA;AA+SA,kBA/SA,0BA+SA,CA/SA,EA+SA;AACA;AACA;AACA;AACA;AACA,KApTA;AAqTA,mBArTA,2BAqTA,CArTA,EAqTA;AACA;AACA;AACA;AACA;AACA,KA1TA;AA2TA,iBA3TA,yBA2TA,CA3TA,EA2TA;AACA;AACA;AACA;AACA,KA/TA;AAgUA,UAhUA,kBAgUA,CAhUA,EAgUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxUA;AAyUA,UAzUA,kBAyUA,CAzUA,EAyUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjVA,EApHA,E;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAu+B,CAAgB,g7BAAG,EAAC,C;;;;;;;;;;;ACA3/B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/ling-imgcropper/ling-imgcropper.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ling-imgcropper.vue?vue&type=template&id=05542548&scoped=true&\"\nvar renderjs\nimport script from \"./ling-imgcropper.vue?vue&type=script&lang=js&\"\nexport * from \"./ling-imgcropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ling-imgcropper.vue?vue&type=style&index=0&id=05542548&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05542548\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/ling-imgcropper/ling-imgcropper.vue\"\nexport default component.exports","export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=template&id=05542548&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"vue-cropper\" ref=\"cropper\" :style=\"{ top : `${containerTop}px` }\" v-show=\"show\" @touchmove.stop.prevent=\"\"\r\n\t catchtouchmove=\"false\">\r\n\t\t<view class=\"cropper-box\">\r\n\t\t\t<view class=\"cropper-box-canvas\" @touchstart.stop.prevent=\"imgTouchStart\" @touchmove.stop.prevent=\"imgMoveing\"\r\n\t\t\t @touchend.stop.prevent=\"imgMoveEnd\" :style=\"{\r\n\t\t\t\t\t'width': imageWidth + 'px',\r\n\t\t\t\t\t'height': imageHeight + 'px',\r\n\t\t\t\t\t'transform': 'scale(' + scale + ',' + scale + ') ' + 'translate3d('+ x / scale + 'px,' + y / scale + 'px,' + '0)'\r\n\t\t\t\t\t+ 'rotateZ('+ rotate * 90 +'deg)'\r\n\t\t\t\t\t}\">\r\n\t\t\t\t<image :src=\"src\" alt=\"cropper-img\" ref=\"cropperImg\" mode=\"scaleToFill\" class=\"uni-image\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cropper-drag-box cropper-modal cropper-move pointer-events\"></view>\r\n\t\t<view class=\"cropper-crop-box\" :class=\"{'pointer-events': cropFixed}\" :style=\"{'width': cropW + 'px','height': cropH + 'px','transform': 'translate3d('+ cropOffsertX + 'px,' + cropOffsertY + 'px,' + '0)'}\">\r\n\t\t\t<view class=\"cropper-view-box\">\r\n\t\t\t\t<image :style=\"{'width': imageWidth + 'px','height': imageHeight + 'px','transform': 'scale(' + scale + ',' + scale + ') ' + 'translate3d('+ (x - cropOffsertX) / scale  + 'px,' + (y - cropOffsertY) / scale + 'px,' + '0)' + 'rotateZ('+ rotate * 90 +'deg)'}\"\r\n\t\t\t\t mode=\"scaleToFill\" :src=\"src\" alt=\"cropper-img\"></image>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view v-if=\"!cropFixed\" class=\"cropper-face cropper-move\" @touchstart.stop.prevent=\"touchStart\"\r\n\t\t\t @touchmove.stop.prevent=\"cropMoveing\"></view>\r\n\r\n\t\t\t<view class=\"crop-line line-w\"></view>\r\n\t\t\t<view class=\"crop-line line-a\"></view>\r\n\t\t\t<view class=\"crop-line line-s\"></view>\r\n\t\t\t<view class=\"crop-line line-d\"></view>\r\n\t\t\t<block v-if=\"!cropFixed\">\r\n\t\t\t\t<view class=\"crop-point point-lt\" @touchstart.stop.prevent=\"touchStart\" @touchmove.stop.prevent=\"dragMove($event, 'left-top')\"></view>\r\n\t\t\t\t<view class=\"crop-point point-mt\" @touchstart.stop.prevent=\"touchStart\" @touchmove.stop.prevent=\"dragMove($event, 'middle-top')\"></view>\r\n\t\t\t\t<view class=\"crop-point point-rt\" @touchstart.stop.prevent=\"touchStart\" @touchmove.stop.prevent=\"dragMove($event, 'right-top')\"></view>\r\n\t\t\t\t<view class=\"crop-point point-ml\" @touchstart.stop.prevent=\"touchStart\" @touchmove.stop.prevent=\"dragMove($event, 'middle-left')\"></view>\r\n\t\t\t\t<view class=\"crop-point point-mr\" @touchstart.stop.prevent=\"touchStart\" @touchmove.stop.prevent=\"dragMove($event, 'middle-right')\"></view>\r\n\t\t\t\t<view class=\"crop-point point-lb\" @touchstart.stop.prevent=\"touchStart\" @touchmove.stop.prevent=\"dragMove($event, 'left-bottom')\"></view>\r\n\t\t\t\t<view class=\"crop-point point-mb\" @touchstart.stop.prevent=\"touchStart\" @touchmove.stop.prevent=\"dragMove($event, 'middle-bottom')\"></view>\r\n\t\t\t\t<view class=\"crop-point point-rb\" @touchstart.stop.prevent=\"touchStart\" @touchmove.stop.prevent=\"dragMove($event, 'right-bottom')\"></view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\r\n\t\t<canvas id=\"myCanvas\" canvas-id=\"myCanvas\" class=\"cropper-canvas\" :style=\"{ 'width': cropW + 'px','height': cropH + 'px' }\"></canvas>\r\n\r\n\t\t<view class=\"btn-group\">\r\n\t\t\t<!--  #ifdef MP-ALIPAY -->\r\n\t\t\t<view class=\"btn-item iconfont\" v-show=\"showResetBtn\" @tap=\"init\">&#xe622;</view>\r\n\t\t\t<view class=\"btn-item iconfont\" v-show=\"showRotateBtn\" @tap=\"rotateHandler\">&#xe669;</view>\r\n\r\n\t\t\t<!--  #endif-->\r\n\t\t\t<!--  #ifndef MP-ALIPAY -->\r\n\t\t\t<view class=\"btn-item reset-btn\" v-show=\"showResetBtn\" @tap=\"init\"></view>\r\n\t\t\t<view class=\"btn-item rotate-btn\" v-show=\"showRotateBtn\" @tap=\"rotateHandler\"></view>\r\n\t\t\t<!--  #endif-->\r\n\r\n\t\t</view>\r\n\r\n\t\t<view class=\"uni-info__ft\">\r\n\t\t\t<view class=\"uni-modal__btn uni-modal__btn_default\" style=\"color: white;\" @tap=\"cancel\">取消</view>\r\n\t\t\t<view class=\"uni-modal__btn uni-modal__btn_primary\" style=\"color: white;\" @tap=\"confirm\">确定</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'image-cropper',\r\n\t\tprops: {\r\n\t\t\tcropWidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 200,\r\n\t\t\t},\r\n\t\t\tcropHeight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 200\r\n\t\t\t},\r\n\t\t\tcropFixed: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t\tiszoom: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t\tsrc: {\r\n\t\t\t\ttype: String,\r\n\t\t\t},\r\n\t\t\tshowResetBtn: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true,\r\n\t\t\t},\r\n\t\t\tshowRotateBtn: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true,\r\n\t\t\t},\r\n\t\t\tproportion: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\tconst sysInfo = uni.getSystemInfoSync();\r\n\t\t\tconst pixelRatio = sysInfo.pixelRatio\r\n\t\t\treturn {\r\n\t\t\t\tshow: false,\r\n\t\t\t\tscale: 1,\r\n\t\t\t\trotate: 0,\r\n\t\t\t\tcropW: 0,\r\n\t\t\t\tcropH: 0,\r\n\t\t\t\tcropOldW: 0,\r\n\t\t\t\tcropOldH: 0,\r\n\t\t\t\tsysInfo: sysInfo,\r\n\t\t\t\tpixelRatio: pixelRatio,\r\n\t\t\t\timageRealWidth: 0,\r\n\t\t\t\timageRealHeight: 0,\r\n\t\t\t\tcropOffsertX: 0,\r\n\t\t\t\tcropOffsertY: 0,\r\n\t\t\t\tstartX: 0,\r\n\t\t\t\tstartY: 0,\r\n\t\t\t\t// 裁剪框与边界间距\r\n\t\t\t\tborder: 5,\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\tstartL: 0,\r\n\t\t\t\toldScale: 1,\r\n\t\t\t\tscaling: true,\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tsrc(val) {\r\n\t\t\t\tif (val.length > 0) {\r\n\t\t\t\t\tthis.init()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshow(val) {\r\n\t\t\t\tif (!val) {\r\n\t\t\t\t\t//   this.src = ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tcontainerTop() {\r\n\t\t\t\tlet top = 0\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\ttop = 44\r\n\t\t\t\t// #endif\r\n\t\t\t\treturn top;\r\n\t\t\t},\r\n\t\t\t// 容器高度\r\n\t\t\tcontainerHeight() {\r\n\t\t\t\treturn this.windowHeight - 48;\r\n\t\t\t},\r\n\t\t\t// 屏幕宽度\r\n\t\t\twindowWidth() {\r\n\t\t\t\treturn this.sysInfo.windowWidth;\r\n\t\t\t},\r\n\t\t\twindowHeight() {\r\n\t\t\t\treturn this.sysInfo.windowHeight;\r\n\t\t\t},\r\n\t\t\t// 图片宽高比\r\n\t\t\timageRatio() {\r\n\t\t\t\tif (this.imageRealHeight > 0) {\r\n\t\t\t\t\treturn this.imageRealWidth / this.imageRealHeight\r\n\t\t\t\t}\r\n\t\t\t\treturn 0\r\n\t\t\t},\r\n\t\t\t// 等比缩放后的宽度\r\n\t\t\timageWidth() {\r\n\t\t\t\tif (this.imageRatio >= 1) {\r\n\t\t\t\t\treturn this.windowWidth\r\n\t\t\t\t}\r\n\t\t\t\treturn this.windowWidth * this.imageRatio\r\n\t\t\t},\r\n\t\t\t// 等比缩放后的高度\r\n\t\t\timageHeight() {\r\n\t\t\t\tif (this.imageRatio >= 1) {\r\n\t\t\t\t\treturn this.windowWidth / this.imageRatio\r\n\t\t\t\t}\r\n\t\t\t\treturn this.windowWidth\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tmoveHandle() {\r\n\r\n\t\t\t\t//return  false;\r\n\t\t\t},\r\n\r\n\t\t\trotateHandler() {\r\n\t\t\t\tif (this.rotate == 3) {\r\n\t\t\t\t\tthis.rotate = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t++this.rotate\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinit() {\r\n\t\t\t\tthis.rotate = 0;\r\n\t\t\t\tthis.scale = 1;\r\n\t\t\t\tthis.cropW = this.cropWidth\r\n\t\t\t\tthis.cropH = this.cropHeight\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '图片加载中...',\r\n\t\t\t\t})\r\n\t\t\t\tthis.loadImage(this.src).then((e) => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}).catch((e) => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '标题',\r\n\t\t\t\t\t\tcontent: '图片加载失败'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloadImage(src) {\r\n\t\t\t\tconst _this = this\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\tsrc: src,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\r\n\t\t\t\t\t\t\t_this.imageRealWidth = res.width\r\n\t\t\t\t\t\t\t_this.imageRealHeight = res.height\r\n\r\n\t\t\t\t\t\t\t_this.cropOffsertX = _this.windowWidth / 2 - _this.cropW / 2\r\n\t\t\t\t\t\t\t_this.cropOffsertY = _this.windowHeight / 2 - _this.cropH / 2\r\n\t\t\t\t\t\t\t_this.show = true\r\n\r\n\t\t\t\t\t\t\t_this.$nextTick(() => {\r\n\t\t\t\t\t\t\t\t_this.x = _this.windowWidth / 2 - _this.imageWidth / 2\r\n\t\t\t\t\t\t\t\t_this.y = _this.containerHeight / 2 - _this.imageHeight / 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\t\t_this.show = false\r\n\t\t\t\t\t\t\treject(e)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch((e) => {});\r\n\r\n\t\t\t},\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.show = false\r\n\t\t\t\tthis.$emit('cancel')\r\n\t\t\t},\r\n\t\t\tconfirm(event) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '裁剪中...',\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (this.iszoom) {\r\n\t\t\t\t\tthis.pixelRatio = 1;\r\n\t\t\t\t\tconsole.log(\"this is fixed\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.proportion != 0)\r\n\t\t\t\t\t\tthis.proportion = this.pixelRatio;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tconst _this = this\r\n\t\t\t\tconst ctx = uni.createCanvasContext('myCanvas', _this);\r\n\r\n\t\t\t\tconst pixelRatio = _this.pixelRatio\r\n\t\t\t\tconst imgage = _this.src\r\n\t\t\t\tconst imgW = _this.imageWidth * _this.scale;\r\n\t\t\t\tconst imgH = _this.imageHeight * _this.scale\r\n\t\t\t\tconst rotate = _this.rotate\r\n\t\t\t\tlet dx = _this.cropOffsertX - _this.x - (_this.imageWidth - imgW) / 2;\r\n\t\t\t\tlet dy = _this.cropOffsertY - _this.y - (_this.imageHeight - imgH) / 2;\r\n\r\n\r\n\r\n\t\t\t\tctx.setFillStyle('white')\r\n\t\t\t\tctx.fillRect(0, 0, imgW, imgH)\r\n\t\t\t\tctx.save()\r\n\r\n\t\t\t\tctx.rotate((rotate * 90 * Math.PI) / 180);\r\n\t\t\t\tswitch (rotate) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tdx += (imgH - imgW) / 2\r\n\t\t\t\t\t\tdy -= (imgH - imgW) / 2\r\n\t\t\t\t\t\tctx.drawImage(imgage, -dy, dx, imgW, -imgH);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tctx.drawImage(imgage, dx, dy, -imgW, -imgH);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tdx += (imgH - imgW) / 2\r\n\t\t\t\t\t\tdy -= (imgH - imgW) / 2\r\n\t\t\t\t\t\tctx.drawImage(imgage, dy, -dx, -imgW, imgH);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tctx.drawImage(imgage, -dx, -dy, imgW, imgH);\r\n\t\t\t\t\t\t//ctx.drawImage(imgage, 2, 2, 375,375);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\tctx.restore()\r\n\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\tctx.draw(true, () => {\r\n\r\n\t\t\t\t\tctx.toTempFilePath({\r\n\t\t\t\t\t\tdestWidth: _this.cropW * pixelRatio,\r\n\t\t\t\t\t\tdestHeight: _this.cropH * pixelRatio,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\r\n\r\n\t\t\t\t\t\t\t// event.detail.tempFilePath =filePath\r\n\t\t\t\t\t\t\tevent.detail.tempFilePath = res.apFilePath\r\n\r\n\t\t\t\t\t\t\t_this.show = false\r\n\t\t\t\t\t\t\t_this.$emit('confirm', event)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\tcontent: '裁剪失败'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, _this);\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef MP-ALIPAY\r\n\t\t\t\tctx.draw(false, () => {\r\n\r\n\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\tcanvasId: 'myCanvas',\r\n\t\t\t\t\t\tdestWidth: _this.cropW * pixelRatio,\r\n\t\t\t\t\t\tdestHeight: _this.cropH * pixelRatio,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tevent.detail.tempFilePath = res.tempFilePath\r\n\t\t\t\t\t\t\t_this.show = false\r\n\t\t\t\t\t\t\t_this.$emit('confirm', event)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\tcontent: '裁剪失败'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, _this);\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\timgTouchStart(e) {\r\n\t\t\t\tif (e.touches.length >= 2) {\r\n\t\t\t\t\tthis.oldScale = this.scale\r\n\t\t\t\t\tthis.scaling = true\r\n\t\t\t\t\tconst x = e.touches[0].pageX - e.touches[1].pageX\r\n\t\t\t\t\tconst y = e.touches[0].pageY - e.touches[1].pageY\r\n\t\t\t\t\tconst hypotenuse = Math.sqrt(\r\n\t\t\t\t\t\tMath.pow(x, 2) +\r\n\t\t\t\t\t\tMath.pow(y, 2)\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t\tthis.startL = Math.max(x, y, hypotenuse)\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.scaling = true\r\n\t\t\t\t\tthis.startX = e.touches[0].pageX - this.x\r\n\t\t\t\t\tthis.startY = e.touches[0].pageY - this.y\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timgMoveing(e) {\r\n\r\n\t\t\t\t//  if(this.scaling) {\r\n\r\n\t\t\t\tif (this.scaling && e.touches.length >= 2) {\r\n\t\t\t\t\tlet scale = this.oldScale\r\n\t\t\t\t\t// console.log(\"双指\")\r\n\t\t\t\t\tconst x = e.touches[0].pageX - e.touches[1].pageX\r\n\t\t\t\t\tconst y = e.touches[0].pageY - e.touches[1].pageY\r\n\r\n\r\n\t\t\t\t\tconst hypotenuse = Math.sqrt(\r\n\t\t\t\t\t\tMath.pow(x, 2) +\r\n\t\t\t\t\t\tMath.pow(y, 2)\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t\tconst newL = Math.max(x, y, hypotenuse)\r\n\r\n\t\t\t\t\tconst cha = newL - this.startL;\r\n\r\n\t\t\t\t\t// 根据图片本身大小 决定每次改变大小的系数, 图片越大系数越小\r\n\t\t\t\t\t// 1px - 0.2\r\n\t\t\t\t\tlet coe = 1;\r\n\t\t\t\t\tcoe =\r\n\t\t\t\t\t\tcoe / this.imageWidth > coe / this.imageHeight ?\r\n\t\t\t\t\t\tcoe / this.imageHeight :\r\n\t\t\t\t\t\tcoe / this.imageWidth;\r\n\t\t\t\t\tcoe = coe > 0.1 ? 0.1 : coe;\r\n\t\t\t\t\tconst num = coe * cha;\r\n\r\n\t\t\t\t\tif (cha > 0) {\r\n\t\t\t\t\t\tscale += Math.abs(num);\r\n\t\t\t\t\t} else if (cha < 0) {\r\n\t\t\t\t\t\tscale > Math.abs(num) ? (scale -= Math.abs(num)) : scale;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.scale = scale;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.scaling) {\r\n\t\t\t\t\t\tconst moveX = e.touches[0].pageX - this.startX\r\n\t\t\t\t\t\tconst moveY = e.touches[0].pageY - this.startY\r\n\t\t\t\t\t\tconsole.log(\"单指\")\r\n\t\t\t\t\t\tthis.x = moveX\r\n\t\t\t\t\t\tthis.y = moveY\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\timgMoveEnd() {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.scaling = false\r\n\t\t\t\t}, 100)\r\n\t\t\t},\r\n\t\t\ttouchStart(e) {\r\n\t\t\t\tif (!this.scaling) {\r\n\t\t\t\t\tthis.startX = e.touches[0].pageX - this.cropOffsertX;\r\n\t\t\t\t\tthis.startY = e.touches[0].pageY - this.cropOffsertY;\r\n\r\n\t\t\t\t\tthis.cropOldW = this.cropW\r\n\t\t\t\t\tthis.cropOldH = this.cropH\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcropMoveing(e) {\r\n\t\t\t\tif (!this.scaling) {\r\n\t\t\t\t\tconst moveX = this._cropX(e.touches[0].pageX - this.startX)\r\n\t\t\t\t\tconst moveY = this._cropY(e.touches[0].pageY - this.startY)\r\n\r\n\t\t\t\t\tthis.cropOffsertX = moveX\r\n\t\t\t\t\tthis.cropOffsertY = moveY\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdragMove(e, type) {\r\n\t\t\t\tif (this.cropFixed) {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\tconst moveX = e.touches[0].pageX - this.startX\r\n\t\t\t\tconst moveY = e.touches[0].pageY - this.startY\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase 'left-top':\r\n\t\t\t\t\t\tthis._cropMoveLeft(moveX)\r\n\t\t\t\t\t\tthis._cropMoveTop(moveY)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'middle-top':\r\n\t\t\t\t\t\tthis._cropMoveTop(moveY)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'right-top':\r\n\t\t\t\t\t\tthis._cropMoveTop(moveY)\r\n\t\t\t\t\t\tthis._cropMoveRight(moveX)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'middle-right':\r\n\t\t\t\t\t\tthis._cropMoveRight(moveX)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'right-bottom':\r\n\t\t\t\t\t\tthis._cropMoveRight(moveX)\r\n\t\t\t\t\t\tthis._cropMoveBottom(moveY)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'middle-bottom':\r\n\t\t\t\t\t\tthis._cropMoveBottom(moveY)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'left-bottom':\r\n\t\t\t\t\t\tthis._cropMoveBottom(moveY)\r\n\t\t\t\t\t\tthis._cropMoveLeft(moveX)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'middle-left':\r\n\t\t\t\t\t\tthis._cropMoveLeft(moveX)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_cropMoveTop(y) {\r\n\t\t\t\tconst topY = this._cropY(y)\r\n\t\t\t\tthis.cropH += this.cropOffsertY - topY\r\n\t\t\t\tthis.cropOffsertY = topY\r\n\t\t\t},\r\n\t\t\t_cropMoveRight(x) {\r\n\t\t\t\tif (this.cropOldW + x >= this.windowWidth - this.border) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.cropW = this.cropOldW + (x - this.cropOffsertX)\r\n\t\t\t},\r\n\t\t\t_cropMoveBottom(y) {\r\n\t\t\t\tif (this.cropOldH + y >= this.windowHeight - this.containerTop - this.border) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.cropH = this.cropOldH + (y - this.cropOffsertY)\r\n\t\t\t},\r\n\t\t\t_cropMoveLeft(x) {\r\n\t\t\t\tconst leftX = this._cropY(x)\r\n\t\t\t\tthis.cropW += this.cropOffsertX - leftX\r\n\t\t\t\tthis.cropOffsertX = leftX\r\n\t\t\t},\r\n\t\t\t_cropX(x) {\r\n\t\t\t\tif (x <= this.border) {\r\n\t\t\t\t\treturn this.border\r\n\t\t\t\t}\r\n\t\t\t\tif (x + this.cropW >= this.windowWidth - this.border) {\r\n\t\t\t\t\treturn this.windowWidth - this.cropW - this.border\r\n\t\t\t\t}\r\n\t\t\t\treturn x\r\n\t\t\t},\r\n\t\t\t_cropY(y) {\r\n\t\t\t\tif (y <= this.border) {\r\n\t\t\t\t\treturn this.border\r\n\t\t\t\t}\r\n\t\t\t\tif (y + this.cropH >= this.windowHeight - this.containerTop - this.border) {\r\n\t\t\t\t\treturn this.windowHeight - this.cropH - this.containerTop - this.border\r\n\t\t\t\t}\r\n\t\t\t\treturn y\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"css\">\r\n\t@font-face {\r\n\t\tfont-family: \"iconfont\";\r\n\t\tsrc: url('data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAR4AAsAAAAACKgAAAQsAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCDBgqEfIRGATYCJAMMCwgABCAFhG0HShugB8gOJUHBwAAAAAFEBNmwzd4dtatSmmpFoVAEhUThEAYkCozFKDCqCVO6RfH/89v869awDnTR1qrSANFt4GG4SNxreBn91fmV9f3+53J613ieHba+N1zmGM8PA7oXTaCAxpjei8IoLWFsGLu4jPME6vWJJdovqmgAO4U2LRBnep0K7GJmpYQWanXVOWuLuAFrtenK4haAa/f38QnKsCOpyrRFh6eFWsh5KXnfYcn958BGQNKfE8wmMmaAQpzkuo9Z+ukZluoltVV5abUipL5i/ysArlhWVut/eCRBVNPUjYg6oUo7JTHFoaYDSvdacnKTq9GAB4AY5y2dtL3qpFh1DENdnJC6Hq+xYb7pyRMDMzc/fYoJjY8flwO3m98rMucF+IZHj6Cagw5UeKpxyFbt2rHGY/8jpa7CYMvLfcIesLjY3bdqhaf+nqgQs2qT/+rjCH/VfA0VFGuAC3iE8NEr/Vau8vZsXiUy7+V3c3tQQXMAuNjDCC89KDIHH0OFhnUi81GEPwyc7wZUaN7DnUf4g+ZLQsMKYV/94NjK7R7TEM4niTY1oJ5zEU62aNVaasUub08YLUEam5EnT6a61/I17dNk+vTu9jpJjXhsTFwjqTtpCBxBIIgS6iQnc/Zod1YGKp0rAwsD8kkyP6AwcK0hcAwkiQmBhWvxPZWKDu86aUH2nLEdi9rGX1eXq5P6A1SrnAucMVMdZH/GKi/jyfCqJyucfK3mXpVujXOPfFf5LC4Dvx0X/943JyOq4HuCTZ8KiIPPAb6ro8akpT6ufiq39BQrNlk5mp8pO0JlJLk8f5QalRjoP60IMx0N8n7wGhSD3n6/F1zlcTVz/cR+Ev0lkLSTd7UiPbD/wCxGRMA2Krwro2O0bTQtImbwhjAJc0S3N4ROx15/PH60IzaIOjCbEelqkDOfETNxb/FMixnWNzeJp2KPQw9A5d76jGUOQOUvH7RE/o2RfkNatd3OGf9q0QKbnq8WB7qy+hVqJRjJn1BQgP/iErks0yy5iGJTrOayW7C/z0IoZH0qNH+7N+31XXc7G2p1hZDU6IWs1ghaqDNQpcEKVKu1BfWmFW9u0IFhKUodpswCEFodgqTZHWStbqOF+hqqdPsG1VrDEuodhfueDcZCj+QzuIrFtZh6BNNraIowbCzi1dbhOlOfionKXHoTzgzoY5hCKk/minEKZ/pYMDCoU7IsgREM3Y8Vgcvwvj4aMzK0AdewUpJljWkyGZH3IKmG7gfEHgZOhYXTwqiNwOhp0CiE3ZiFpL5fB6dj0keFKcGV+JvgGAP0vWMUpOQ10GI1VQt3LoMHDNJRYrEIPInAoPXDFEEnrk9P0zDG/FEGOA2WFNkiaZRGhuoRddXS8bX917cL6mn9c6TIUXSekybKHKQfJXFq2KSiRklLYU8dNKWDIX0cAA==') format('woff2');\r\n\t}\r\n\r\n\t/*   #ifndef MP-ALIPAY  */\r\n\r\n\t/*  #endif  */\r\n\t@font-face {\r\n\t\tfont-family: 'iconfont';\r\n\t\t/* project id 997741 */\r\n\t\tsrc: url('https://at.alicdn.com/t/font_997741_k4k7vblf4i.eot');\r\n\t\tsrc: url('https://at.alicdn.com/t/font_997741_k4k7vblf4i.eot?#iefix') format('embedded-opentype'),\r\n\t\t\turl('https://at.alicdn.com/t/font_997741_k4k7vblf4i.woff2') format('woff2'),\r\n\t\t\turl('https://at.alicdn.com/t/font_997741_k4k7vblf4i.woff') format('woff'),\r\n\t\t\turl('https://at.alicdn.com/t/font_997741_k4k7vblf4i.ttf') format('truetype'),\r\n\t\t\turl('https://at.alicdn.com/t/font_997741_k4k7vblf4i.svg#iconfont') format('svg');\r\n\t}\r\n\r\n\t.vue-cropper {\r\n\t\tposition: fixed;\r\n\t\theight: 100vh;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 998;\r\n\t\tbox-sizing: border-box;\r\n\t\tuser-select: none;\r\n\t\t-webkit-user-select: none;\r\n\t\t-moz-user-select: none;\r\n\t\t-ms-user-select: none;\r\n\t\tdirection: ltr;\r\n\t\ttouch-action: none;\r\n\t\ttext-align: left;\r\n\t\tbackground: black;\r\n\t\t/* background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC\"); */\r\n\r\n\t}\r\n\r\n\t.cropper-canvas {\r\n\t\tposition: absolute;\r\n\t\ttop: -9999px;\r\n\t\tleft: -9999px;\r\n\t\tz-index: -998;\r\n\t}\r\n\r\n\t.vue-cropper .uni-info__ft {\r\n\r\n\t\tposition: fixed;\r\n\t\tline-height: 48px;\r\n\t\tfont-size: 18px;\r\n\t\tdisplay: flex;\r\n\t\tbottom: 0;\r\n\t\tz-index: 998;\r\n\t\twidth: 100%;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.btn-group {\r\n\t\tposition: absolute;\r\n\t\tright: 30px;\r\n\t\tbottom: 100px;\r\n\t\tz-index: 998;\r\n\t}\r\n\r\n\t.btn-item {\r\n\t\tposition: relative;\r\n\t\twidth: 40px;\r\n\t\theight: 40px;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 20px;\r\n\t\tpadding: 10px;\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\r\n\t.btn-item:active {\r\n\t\tbackground: #ccc;\r\n\t}\r\n\r\n\t.iconfont {\r\n\t\tfont-family: \"iconfont\" !important;\r\n\t\tfont-size: 24px;\r\n\t\tfont-style: normal;\r\n\r\n\t\t-webkit-font-smoothing: antialiased;\r\n\t\t-moz-osx-font-smoothing: grayscale;\r\n\t\tline-height: 20px;\r\n\t}\r\n\r\n\t.rotate-btn {\r\n\t\tfont-family: \"iconfont\" !important;\r\n\t\tfont-size: 24px;\r\n\t\tfont-style: normal;\r\n\t\t-webkit-font-smoothing: antialiased;\r\n\t\t-moz-osx-font-smoothing: grayscale;\r\n\t\tline-height: 20px;\r\n\t}\r\n\r\n\t.rotate-btn:before {\r\n\t\tcontent: \"\\e65c\";\r\n\t\tmargin-left: -2px;\r\n\t}\r\n\r\n\t.reset-btn {\r\n\t\tfont-family: \"iconfont\" !important;\r\n\t\tfont-size: 24px;\r\n\t\tfont-style: normal;\r\n\t\t-webkit-font-smoothing: antialiased;\r\n\t\t-moz-osx-font-smoothing: grayscale;\r\n\t\tline-height: 20px;\r\n\t}\r\n\r\n\t.reset-btn:before {\r\n\t\tcontent: \"\\e648\";\r\n\t\tmargin-left: -2px;\r\n\t}\r\n\r\n\t.vue-cropper .uni-info__ft:after {\r\n\t\tcontent: \" \";\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\theight: 1px;\r\n\t\t/* border-top: 1px solid #d5d5d6; */\r\n\t\tcolor: #d5d5d6;\r\n\t\t-webkit-transform-origin: 0 0;\r\n\t\ttransform-origin: 0 0;\r\n\t\t-webkit-transform: scaleY(.5);\r\n\t\ttransform: scaleY(.5);\r\n\t\tz-index: 998;\r\n\t}\r\n\r\n\t.vue-cropper .uni-modal__btn {\r\n\t\tdisplay: block;\r\n\t\tpadding: 0 20rpx;\r\n\t\t/* -webkit-box-flex: 1;\r\n        -webkit-flex: 1;\r\n        flex: 1; */\r\n\t\tcolor: #3cc51f;\r\n\t\ttext-decoration: none;\r\n\t\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n\t\tposition: relative;\r\n\t\t/* text-align: center;\r\n        background-color: #fff; */\r\n\t\tz-index: 999;\r\n\t}\r\n\r\n\t.vue-cropper .uni-modal__btn:first-child:after {\r\n\t\tdisplay: none\r\n\t}\r\n\r\n\t.vue-cropper .uni-modal__btn:after {\r\n\t\tcontent: \" \";\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\twidth: 1px;\r\n\t\tbottom: 0;\r\n\t\t/* border-left: 1px solid #d5d5d6; */\r\n\t\tcolor: #d5d5d6;\r\n\t\t-webkit-transform-origin: 0 0;\r\n\t\ttransform-origin: 0 0;\r\n\t\t-webkit-transform: scaleX(.5);\r\n\t\ttransform: scaleX(.5);\r\n\t\tz-index: 998;\r\n\t}\r\n\r\n\t.vue-cropper .uni-modal__btn:active {\r\n\t\tbackground-color: #eee;\r\n\t}\r\n\r\n\t.cropper-box,\r\n\t.cropper-box-canvas,\r\n\t.cropper-drag-box,\r\n\t.cropper-crop-box,\r\n\t.cropper-face {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tuser-select: none;\r\n\t\tz-index: 998;\r\n\t}\r\n\r\n\t.uni-image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.cropper-box-canvas image {\r\n\t\tposition: relative;\r\n\t\ttext-align: left;\r\n\t\tuser-select: none;\r\n\t\ttransform: none;\r\n\t\tmax-width: none;\r\n\t\tmax-height: none;\r\n\t\tz-index: 998;\r\n\t}\r\n\r\n\t.cropper-box {\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.cropper-move {\r\n\t\tcursor: move;\r\n\t}\r\n\r\n\t.cropper-crop {\r\n\t\tcursor: crosshair;\r\n\t}\r\n\r\n\t.cropper-modal {\r\n\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t}\r\n\r\n\t.pointer-events {\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.cropper-crop-box {\r\n\t\t/*border: 2px solid #39f;*/\r\n\t}\r\n\r\n\t.cropper-view-box {\r\n\t\tdisplay: block;\r\n\t\toverflow: hidden;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\toutline: 1px solid #39f;\r\n\t\toutline-color: rgba(51, 153, 255, 0.75);\r\n\t\tuser-select: none;\r\n\t}\r\n\r\n\t.cropper-view-box image {\r\n\t\tuser-select: none;\r\n\t\ttext-align: left;\r\n\t\tmax-width: none;\r\n\t\tmax-height: none;\r\n\t}\r\n\r\n\t.cropper-face {\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbackground-color: #fff;\r\n\t\topacity: 0.1;\r\n\t}\r\n\r\n\t.crop-line {\r\n\t\tposition: absolute;\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\topacity: 0.1;\r\n\t\tz-index: 998;\r\n\t}\r\n\r\n\t.line-w {\r\n\t\ttop: -3px;\r\n\t\tleft: 0;\r\n\t\theight: 5px;\r\n\t\tcursor: n-resize;\r\n\t}\r\n\r\n\t.line-a {\r\n\t\ttop: 0;\r\n\t\tleft: -3px;\r\n\t\twidth: 5px;\r\n\t\tcursor: w-resize;\r\n\t}\r\n\r\n\t.line-s {\r\n\t\tbottom: -3px;\r\n\t\tleft: 0;\r\n\t\theight: 5px;\r\n\t\tcursor: s-resize;\r\n\t}\r\n\r\n\t.line-d {\r\n\t\ttop: 0;\r\n\t\tright: -3px;\r\n\t\twidth: 5px;\r\n\t\tcursor: e-resize;\r\n\t}\r\n\r\n\t.crop-point {\r\n\t\tposition: absolute;\r\n\t\twidth: 8px;\r\n\t\theight: 8px;\r\n\t\topacity: 0.75;\r\n\t\tbackground-color: #39f;\r\n\t\tborder-radius: 100%;\r\n\t\tz-index: 998;\r\n\t}\r\n\r\n\t.point-lt {\r\n\t\ttop: -4px;\r\n\t\tleft: -4px;\r\n\t\tcursor: nw-resize;\r\n\t}\r\n\r\n\t.point-mt {\r\n\t\ttop: -5px;\r\n\t\tleft: 50%;\r\n\t\tmargin-left: -3px;\r\n\t\tcursor: n-resize;\r\n\t}\r\n\r\n\t.point-rt {\r\n\t\ttop: -4px;\r\n\t\tright: -4px;\r\n\t\tcursor: ne-resize;\r\n\t}\r\n\r\n\t.point-ml {\r\n\t\ttop: 50%;\r\n\t\tleft: -4px;\r\n\t\tmargin-top: -3px;\r\n\t\tcursor: w-resize;\r\n\t}\r\n\r\n\t.point-mr {\r\n\t\ttop: 50%;\r\n\t\tright: -4px;\r\n\t\tmargin-top: -3px;\r\n\t\tcursor: e-resize;\r\n\t}\r\n\r\n\t.point-lb {\r\n\t\tbottom: -5px;\r\n\t\tleft: -4px;\r\n\t\tcursor: sw-resize;\r\n\t}\r\n\r\n\t.point-mb {\r\n\t\tbottom: -5px;\r\n\t\tleft: 50%;\r\n\t\tmargin-left: -3px;\r\n\t\tcursor: s-resize;\r\n\t}\r\n\r\n\t.point-rb {\r\n\t\tbottom: -5px;\r\n\t\tright: -4px;\r\n\t\tcursor: se-resize;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=style&index=0&id=05542548&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=style&index=0&id=05542548&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592985748309\n      var cssReload = require(\"D:/360极速浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///E:/uniapp/components/ling-imgcropper/ling-imgcropper.vue?c8b2","webpack:///E:/uniapp/components/ling-imgcropper/ling-imgcropper.vue?4e35","webpack:///E:/uniapp/components/ling-imgcropper/ling-imgcropper.vue?454e","webpack:///E:/uniapp/components/ling-imgcropper/ling-imgcropper.vue?8dd9","webpack:///E:/uniapp/components/ling-imgcropper/ling-imgcropper.vue","webpack:///E:/uniapp/components/ling-imgcropper/ling-imgcropper.vue?dcd8","webpack:///E:/uniapp/components/ling-imgcropper/ling-imgcropper.vue?96e1"],"names":["name","props","cropWidth","type","Number","default","cropHeight","cropFixed","Boolean","iszoom","src","String","showResetBtn","showRotateBtn","proportion","data","sysInfo","uni","getSystemInfoSync","pixelRatio","show","scale","rotate","cropW","cropH","cropOldW","cropOldH","imageRealWidth","imageRealHeight","cropOffsertX","cropOffsertY","startX","startY","border","x","y","startL","oldScale","scaling","watch","val","length","init","computed","containerTop","top","containerHeight","windowHeight","windowWidth","imageRatio","imageWidth","imageHeight","methods","moveHandle","rotateHandler","showLoading","title","loadImage","then","e","hideLoading","catch","showModal","content","_this","Promise","resolve","reject","getImageInfo","success","res","width","height","$nextTick","fail","cancel","$emit","confirm","event","console","log","ctx","createCanvasContext","imgage","imgW","imgH","dx","dy","setFillStyle","fillRect","save","Math","PI","drawImage","restore","draw","canvasToTempFilePath","canvasId","destWidth","destHeight","detail","tempFilePath","imgTouchStart","touches","pageX","pageY","hypotenuse","sqrt","pow","max","imgMoveing","newL","cha","coe","num","abs","moveX","moveY","imgMoveEnd","setTimeout","touchStart","cropMoveing","_cropX","_cropY","dragMove","_cropMoveLeft","_cropMoveTop","_cropMoveRight","_cropMoveBottom","topY","leftX"],"mappings":"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","file":"components/ling-imgcropper/ling-imgcropper.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ling-imgcropper.vue?vue&type=template&id=3b22026c&scoped=true&\"\nvar renderjs\nimport script from \"./ling-imgcropper.vue?vue&type=script&lang=js&\"\nexport * from \"./ling-imgcropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ling-imgcropper.vue?vue&type=style&index=0&id=3b22026c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b22026c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/uniapp/components/ling-imgcropper/ling-imgcropper.vue\"\nexport default component.exports","export * from \"-!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=template&id=3b22026c&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n    export default {\n        name: 'image-cropper',\n        props: {\n            cropWidth: {\n                type: Number,\n                default: 200,\n            },\n            cropHeight: {\n                type: Number,\n                default: 200\n            },\n            cropFixed: {\n                type: Boolean,\n                default: false,\n            },\n\t\t\tiszoom:{\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false,\n\t\t\t},\n            src: {\n                type: String,\n            },\n            showResetBtn: {\n                type: Boolean,\n                default: true,\n            },\n            showRotateBtn: {\n                type: Boolean,\n                default: true,\n            },\n\t\t\tproportion:{\n\t\t\t\ttype:  Number,\n\t\t\t\tdefault: 0,\n\t\t\t},\n        },\n        data() {\n            const sysInfo = uni.getSystemInfoSync();\n            const pixelRatio = sysInfo.pixelRatio\n            return {\n                show: false,\n                scale: 1,\n                rotate: 0,\n                cropW: 0,\n                cropH: 0,\n                cropOldW: 0,\n                cropOldH: 0,\n                sysInfo: sysInfo,\n                pixelRatio: pixelRatio,\n                imageRealWidth: 0,\n                imageRealHeight: 0,\n                cropOffsertX: 0,\n                cropOffsertY: 0,\n                startX: 0,\n                startY: 0,\n                // 裁剪框与边界间距\n                border: 5,\n                x: 0,\n                y: 0,\n                startL: 0,\n                oldScale: 1,\n\t\t\t\tscaling:true,\n            }\n        },\n        watch: {\n            src(val) {\n                if(val.length > 0) {\n                    this.init()\n                }\n            },\n            show(val) {\n                if(!val) {\n                 //   this.src = ''\n                }\n            }\n        },\n        computed: {\n            containerTop() {\n                let top = 0\n\n\n\n                return top;\n            },\n            // 容器高度\n            containerHeight() {\n                return this.windowHeight - 48;\n            },\n            // 屏幕宽度\n            windowWidth() {\n                return this.sysInfo.windowWidth;\n            },\n            windowHeight() {\n                return this.sysInfo.windowHeight;\n            },\n            // 图片宽高比\n            imageRatio() {\n                if (this.imageRealHeight > 0) {\n                    return this.imageRealWidth / this.imageRealHeight\n                }\n                return 0\n            },\n            // 等比缩放后的宽度\n            imageWidth() {\n                if (this.imageRatio >= 1) {\n                    return this.windowWidth\n                }\n                return this.windowWidth * this.imageRatio\n            },\n            // 等比缩放后的高度\n            imageHeight() {\n                if (this.imageRatio >= 1) {\n                    return this.windowWidth / this.imageRatio\n                }\n                return this.windowWidth\n            },\n        },\n        methods: {\n\t\tmoveHandle(){\n\t\t\t\t\n\t\t\t\t//return  false;\n\t\t\t},\n\t\t\t\n            rotateHandler() {\n                if(this.rotate == 3) {\n                    this.rotate = 0;\n                } else {\n                    ++this.rotate\n                }\n            },\n            init() {\n                this.rotate = 0;\n                this.scale = 1;\n              this.cropW = this.cropWidth\n               this.cropH = this.cropHeight\n\t\t\t\n                uni.showLoading({\n                    title: '图片加载中...',\n                })\n                this.loadImage(this.src).then((e) => {\n                    uni.hideLoading()\n                }).catch((e) => {\n                    uni.hideLoading()\n                    uni.showModal({\n                        title: '标题',\n                        content: '图片加载失败'\n                    })\n                })\n            },\n            loadImage(src) {\n                const _this = this\n                return new Promise((resolve, reject) => {\n                    uni.getImageInfo({\n                        src: src,\n                        success: (res) => {\n\t\t\t\t\t\t\n                            _this.imageRealWidth = res.width\n                            _this.imageRealHeight = res.height\n\n                            _this.cropOffsertX = _this.windowWidth / 2 - _this.cropW / 2\n                            _this.cropOffsertY = _this.windowHeight / 2 - _this.cropH / 2\n                            _this.show = true\n\n                            _this.$nextTick(() => {\n                                _this.x = _this.windowWidth / 2 - _this.imageWidth / 2\n                                _this.y = _this.containerHeight / 2 - _this.imageHeight / 2\n                            });\n                            resolve(res)\n                        },\n                        fail: (e) => {\n                            _this.show = false\n                            reject(e)\n                        }\n                    })\n                }).catch((e) => {});\n\n            },\n            cancel() {\n                this.show = false\n                this.$emit('cancel')\n            },\n            confirm(event) {\n                uni.showLoading({\n                    title: '裁剪中...',\n                })\n\t\t\t\t\n\t\t\t\tif(this.iszoom)\n\t\t\t\t{\n\t\t\t\t\t\tthis.pixelRatio=1;\n\t\t\t\t\t\tconsole.log(\"this is fixed\")\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\tif(this.proportion!=0)\n\t\t\t\t\tthis.proportion=this.pixelRatio;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\n                const _this = this\n                const ctx = uni.createCanvasContext('myCanvas', _this);\n\n                const pixelRatio = _this.pixelRatio\n                const imgage = _this.src\n                const imgW = _this.imageWidth * _this.scale;\n                const imgH = _this.imageHeight * _this.scale\n                const rotate = _this.rotate\n                let dx = _this.cropOffsertX - _this.x - (_this.imageWidth - imgW) / 2;\n                let dy = _this.cropOffsertY - _this.y - (_this.imageHeight - imgH) / 2;\n\t\n\t\t\t\n\t\t\n                ctx.setFillStyle('white')\n                ctx.fillRect(0, 0, imgW, imgH)\n                ctx.save()\n\n                ctx.rotate((rotate * 90 * Math.PI) / 180);\n                switch (rotate) {\n                    case 1:\n                        dx += (imgH-imgW) / 2\n                        dy -= (imgH-imgW) / 2\n                        ctx.drawImage(imgage, -dy, dx, imgW, -imgH);\n                        break;\n                    case 2:\n                        ctx.drawImage(imgage, dx, dy, -imgW, -imgH);\n                        break;\n                    case 3:\n                        dx += (imgH-imgW) / 2\n                        dy -= (imgH-imgW) / 2\n                        ctx.drawImage(imgage, dy, -dx, -imgW, imgH);\n                        break;\n                    default:\n                     ctx.drawImage(imgage, -dx, -dy, imgW, imgH);\n\t\t\t\t\t       //ctx.drawImage(imgage, 2, 2, 375,375);\n                        break;\n                }\n\t\t\t\t\n\t\t\t\n\t\t\n                ctx.restore()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n                ctx.draw(false, () => {\n\t\t\t\t\n                    uni.canvasToTempFilePath({\n                        canvasId: 'myCanvas',\n                        destWidth: _this.cropW * pixelRatio,\n                        destHeight: _this.cropH * pixelRatio,\n                        success: (res) => {\n                            uni.hideLoading()\n                            event.detail.tempFilePath = res.tempFilePath\n\t\t\t\t\t\t\tconsole.log()\n                            _this.show = false\n                            _this.$emit('confirm', event)\n                        },\n                        fail: (e) => {\n                            uni.hideLoading()\n                            uni.showModal({\n                                title: '提示',\n                                content: '裁剪失败'\n                            })\n                        }\n                    }, _this);\n                })\n\n            },\n            imgTouchStart(e) {\n                if(e.touches.length >=  2) {\n                    this.oldScale = this.scale\n                    this.scaling = true\n                    const x = e.touches[0].pageX - e.touches[1].pageX\n                    const y = e.touches[0].pageY - e.touches[1].pageY\n                    const hypotenuse = Math.sqrt(\n                        Math.pow(x, 2) +\n                        Math.pow(y, 2)\n                    )\n\n                    this.startL = Math.max(x, y, hypotenuse)\n                  \n                } else {\n\t\t\t\t\tthis.scaling = true\n                    this.startX = e.touches[0].pageX - this.x\n                    this.startY = e.touches[0].pageY - this.y\n                }\n            },\n            imgMoveing(e) {\n\t\t\t\t\n              //  if(this.scaling) {\n\t\t\t\t\n                  if(this.scaling&&e.touches.length >=  2) \n\t\t\t\t   {\n\t  let scale = this.oldScale\n                 console.log(\"双指\")\n                    const x = e.touches[0].pageX - e.touches[1].pageX\n                    const y = e.touches[0].pageY - e.touches[1].pageY\n\t\t\t\t\n\t\t\t\t\n                    const hypotenuse = Math.sqrt(\n                        Math.pow(x, 2) +\n                        Math.pow(y, 2)\n                    )\n\n                    const newL = Math.max(x, y, hypotenuse)\n\n                    const cha = newL - this.startL;\n\n                    // 根据图片本身大小 决定每次改变大小的系数, 图片越大系数越小\n                    // 1px - 0.2\n                    let coe = 1;\n                    coe =\n                        coe / this.imageWidth > coe / this.imageHeight\n                            ? coe / this.imageHeight\n                            : coe / this.imageWidth;\n                    coe = coe > 0.1 ? 0.1 : coe;\n                    const num = coe * cha;\n\n                    if (cha > 0) {\n                        scale += Math.abs(num);\n                    } else if (cha < 0) {\n                        scale > Math.abs(num) ? (scale -= Math.abs(num)) : scale;\n                    }\n\n                    this.scale = scale;\n\t\t\t\t\t}\n                \n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(this.scaling)\n\t\t\t\t\t{\n                    const moveX = e.touches[0].pageX - this.startX\n                    const moveY = e.touches[0].pageY - this.startY\n          console.log(\"单指\")\n                    this.x = moveX\n                    this.y = moveY\n\t\t\t\t\t}\n                }\n            },\n            imgMoveEnd() {\n                setTimeout(() => {\n                    this.scaling = false\n                }, 100)\n            },\n            touchStart(e) {\n\t\t\t\tif(!this.scaling)\n\t\t\t\t{\n                this.startX = e.touches[0].pageX - this.cropOffsertX;\n                this.startY = e.touches[0].pageY - this.cropOffsertY;\n\n                this.cropOldW = this.cropW\n                this.cropOldH = this.cropH\n\t\t\t\t}\n            },\n            cropMoveing(e) {\n\t\t\t\tif(!this.scaling)\n\t\t\t\t{\n                const moveX = this._cropX(e.touches[0].pageX - this.startX)\n                const moveY = this._cropY(e.touches[0].pageY - this.startY)\n\n                this.cropOffsertX = moveX\n                this.cropOffsertY = moveY\n\t\t\t\t}\n            },\n            dragMove(e, type) {\n                if(this.cropFixed) {\n                    return false\n                }\n                const moveX = e.touches[0].pageX - this.startX\n                const moveY = e.touches[0].pageY - this.startY\n                switch (type) {\n                    case 'left-top':\n                        this._cropMoveLeft(moveX)\n                        this._cropMoveTop(moveY)\n                        break;\n                    case 'middle-top':\n                        this._cropMoveTop(moveY)\n                        break;\n                    case 'right-top':\n                        this._cropMoveTop(moveY)\n                        this._cropMoveRight(moveX)\n                        break;\n                    case 'middle-right':\n                        this._cropMoveRight(moveX)\n                        break;\n                    case 'right-bottom':\n                        this._cropMoveRight(moveX)\n                        this._cropMoveBottom(moveY)\n                        break;\n                    case 'middle-bottom':\n                        this._cropMoveBottom(moveY)\n                        break;\n                    case 'left-bottom':\n                        this._cropMoveBottom(moveY)\n                        this._cropMoveLeft(moveX)\n                        break;\n                    case 'middle-left':\n                        this._cropMoveLeft(moveX)\n                        break;\n                    default:\n                        break;\n                }\n            },\n            _cropMoveTop(y) {\n                const topY = this._cropY(y)\n                this.cropH += this.cropOffsertY - topY\n                this.cropOffsertY = topY\n            },\n            _cropMoveRight(x) {\n                if(this.cropOldW + x >= this.windowWidth - this.border) {\n                    return false;\n                }\n                this.cropW = this.cropOldW + (x  - this.cropOffsertX)\n            },\n            _cropMoveBottom(y) {\n                if(this.cropOldH + y >= this.windowHeight - this.containerTop - this.border) {\n                    return false;\n                }\n                this.cropH = this.cropOldH + (y  - this.cropOffsertY)\n            },\n            _cropMoveLeft(x) {\n                const leftX = this._cropY(x)\n                this.cropW += this.cropOffsertX - leftX\n                this.cropOffsertX = leftX\n            },\n            _cropX(x) {\n                if(x <= this.border) {\n                    return this.border\n                }\n                if(x + this.cropW >= this.windowWidth - this.border) {\n                    return this.windowWidth - this.cropW - this.border\n                }\n                return x\n            },\n            _cropY(y) {\n                if(y <= this.border) {\n                    return this.border\n                }\n                if(y + this.cropH >= this.windowHeight - this.containerTop - this.border) {\n                    return this.windowHeight - this.cropH - this.containerTop - this.border\n                }\n                return y\n            }\n        }\n    }\n","import mod from \"-!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=style&index=0&id=3b22026c&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=style&index=0&id=3b22026c&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592966371118\n      var cssReload = require(\"D:/QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
>>>>>>> 527d539382e85162a80016e2f5ee287ff93c2f3d
