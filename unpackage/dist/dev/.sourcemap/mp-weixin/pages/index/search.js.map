{"version":3,"sources":["webpack:///C:/Users/123/Desktop/uni/uniapp/pages/index/search.vue?6cf6","webpack:///C:/Users/123/Desktop/uni/uniapp/pages/index/search.vue?1237","uni-app:///pages/index/search.vue","webpack:///C:/Users/123/Desktop/uni/uniapp/pages/index/search.vue?efca","webpack:///C:/Users/123/Desktop/uni/uniapp/pages/index/search.vue?4107","uni-app:///main.js","webpack:///C:/Users/123/Desktop/uni/uniapp/pages/index/search.vue?f8ed","webpack:///C:/Users/123/Desktop/uni/uniapp/pages/index/search.vue?c96f"],"names":["createPage","Page"],"mappings":"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","file":"pages/index/search.js","sourcesContent":["var components = {\n  uniIcons: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n    )\n  },\n  myProfile: function() {\n    return import(\n      /* webpackChunkName: \"components/profile/index\" */ \"@/components/profile/index.vue\"\n    )\n  },\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  },\n  myAddcart: function() {\n    return import(\n      /* webpackChunkName: \"components/addcart/index\" */ \"@/components/addcart/index.vue\"\n    )\n  },\n  myKeyboard: function() {\n    return import(\n      /* webpackChunkName: \"components/keyboard/index\" */ \"@/components/keyboard/index.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      return _vm.$refs.speech.close()\n    }\n\n    _vm.e1 = function($event) {\n      return _vm.$refs.popup.close()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"search_list\">\r\n\r\n\t\t<view class=\"fixed\">\r\n\t\t\t<!-- #ifdef APP-PLUS |H5 -->\r\n\r\n\t\t\t<view class=\"status_bar fixed white_b\">\r\n\t\t\t\t<!-- 这里是状态栏 -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"status_bar\">\r\n\t\t\t\t<!-- 这里是状态栏 -->\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<view class=\"input_key\">\r\n\t\t\t\t<view class=\"arrow_left\" @click=\"back\">\r\n\t\t\t\t\t<uni-icons type=\"arrowleft\" size=\"25\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"flex_left_right right_area\">\r\n\t\t\t\t\t<view class=\"select_key align_center\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-sousuo\"></text>\r\n\t\t\t\t\t\t<input v-model=\"keyword\" placeholder=\"请输入商品名称\" @focus=\"focus\" placeholder-class=\"place_style\" class=\"keyword\" />\r\n\t\t\t\t\t\t<!-- #ifndef MP-ALIPAY -->\r\n\t\t\t\t\t\t\t<uni-icons type=\"mic-filled\" size=\"20\" color=\"#808080\" @click=\"speed\"></uni-icons>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"color:#009B44;\" @click=\"submit\">搜索</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- #ifdef APP-PLUS |H5 -->\r\n\t\t<view class=\"status_bar\">\r\n\t\t\t<!-- 这里是状态栏 -->\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<view style=\"height:109rpx;\"></view>\r\n\t\t<!-- 热门搜索 -->\r\n\t\t<view class=\"hot_search\" v-if=\"showSearch\">\r\n\t\t\t<view class=\"title\">热门搜索</view>\r\n\t\t\t<view class=\"key_tag\"><text v-for=\"(item, index) in keyList\" :key=\"index\" @click=\"searchList(item.keywords)\">{{item.keywords}}</text></view>\r\n\t\t</view>\r\n\t\t<!-- 搜索结果 -->\r\n\t\t<view class=\"search_result\" v-else>\r\n\t\t\t<my-profile v-for=\"(item,index) in list\" :wares=\"item\" :config=\"config\" :key=\"index\" @showCart=\"openCart(item)\"\r\n\t\t\t @showKey=\"showKey(item,index)\"></my-profile>\r\n\t\t\t<!-- 占位图 -->\r\n\t\t\t<view class=\"search_bitmap\" v-if=\"bitmap\">\r\n\t\t\t\t<image class=\"bitmap\" src=\"../../static/img/no_content.png\" mode=\"aspectFit\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<uni-popup ref=\"speech\" type=\"bottom\">\r\n\t\t\t<view class=\"lang_search\">\r\n\t\t\t\t<text class=\"iconfont icon-X\" @click=\"$refs.speech.close()\"></text>\r\n\r\n\t\t\t\t<view style=\"display: flex;justify-content: center;align-items: center;height: 371rpx;\">\r\n\t\t\t\t\t<view v-if=\"startSpeech\" class=\"correct\">\r\n\t\t\t\t\t\t<view>正在倾听</view>\r\n\t\t\t\t\t\t<view>请说出你想要的的内容</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"error_txt\">\r\n\t\t\t\t\t\t<view>没有听清,请重试</view>\r\n\t\t\t\t\t\t<view>点击说话</view>\r\n\t\t\t\t\t\t<view style=\"height: 40rpx;line-height: 14rpx;\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"arrowdown\" size=\"18\" color=\"#009943\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-top:10rpx;\" @click=\"speed\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"mic-filled\" size=\"40\" color=\"white\" class=\"mic_filled\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<uni-popup ref=\"cart\" type=\"bottom\">\r\n\t\t\t<my-addcart :config=\"config\" :cartware=\"cartware\" @onClose=\"onClose\"></my-addcart>\r\n\t\t</uni-popup>\r\n\r\n\t\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t<my-keyboard @cancelKey=\"$refs.popup.close()\" :arrObj=\"arrObj\" @toParent=\"toParent\"></my-keyboard>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport md5 from '../../static/js/md5.js';\r\n\timport rs from '../../static/js/request.js';\r\n\tlet {\r\n\t\tlog\r\n\t} = console;\r\n\tconst app = getApp().globalData;\r\n\tconst {\r\n\t\tappid,\r\n\t\tappsecret,\r\n\t\timgRemote\r\n\t} = app;\r\n\t// #ifdef H5\r\n\tvar wx = require('jweixin-module');\r\n\t// #endif\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tkeyList: [],\r\n\t\t\t\tlist: [],\r\n\t\t\t\tkeyword: '',\r\n\t\t\t\tshowSearch: true,\r\n\t\t\t\tstartSpeech: true,\r\n\t\t\t\tconfig: [],\r\n\t\t\t\tbitmap: false,\r\n\t\t\t\tarrObj: {},\r\n\t\t\t\tindex: '',\r\n\t\t\t\tcartware: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tback() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoParent(e) {\r\n\t\t\t\tlet item = e.arrObj;\r\n\t\t\t\tlet timeStamp = Math.round(new Date().getTime() / 1000);\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tappid: appid,\r\n\t\t\t\t\ttimeStamp: timeStamp,\r\n\t\t\t\t\titem_id: item.id,\r\n\t\t\t\t\tattr_id: 0,\r\n\t\t\t\t\titem_num: e.val\r\n\t\t\t\t};\r\n\t\t\t\tlet sign = md5.hexMD5(rs.objKeySort(obj) + appsecret);\r\n\t\t\t\tlet params = Object.assign({\r\n\t\t\t\t\t\tsign: sign\r\n\t\t\t\t\t},\r\n\t\t\t\t\tobj\r\n\t\t\t\t);\r\n\t\t\t\trs.postRequests('changeNum', params, res => {\r\n\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\t\trs.Toast('加入购物车成功')\r\n\t\t\t\t\t\tthis.list[this.index].cart_num = e.val;\r\n\t\t\t\t\t} else if (data.code == 407 || data.code == 406) {\r\n\t\t\t\t\t\trs.Toast(\"购买数量不能超过活动数量\")\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trs.Toast(res.data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.$refs.popup.close();\r\n\t\t\t},\r\n\t\t\topenCart(item) {\r\n\t\t\t\tthis.cartware = item;\r\n\t\t\t\tthis.$refs.cart.open();\r\n\t\t\t},\r\n\t\t\tonClose() {\r\n\t\t\t\tthis.$refs.cart.close();\r\n\t\t\t},\r\n\t\t\t// 显示键盘\r\n\t\t\tshowKey(item, index) {\r\n\t\t\t\tthis.arrObj = item;\r\n\t\t\t\tthis.index = index;\r\n\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t},\r\n\t\t\t// 热门搜索\r\n\t\t\tgetSearchData() {\r\n\t\t\t\tlet timeStamp = Math.round(new Date().getTime() / 1000);\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tappid: appid,\r\n\t\t\t\t\ttimeStamp: timeStamp\r\n\t\t\t\t};\r\n\t\t\t\tlet sign = md5.hexMD5(rs.objKeySort(obj) + appsecret);\r\n\t\t\t\tlet params = Object.assign({\r\n\t\t\t\t\t\tsign: sign\r\n\t\t\t\t\t},\r\n\t\t\t\t\tobj\r\n\t\t\t\t);\r\n\t\t\t\trs.getRequests('getSearchData', params, res => {\r\n\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\t\tthis.keyList = data.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trs.Toast(data.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsubmit() {\r\n\t\t\t\tthis.searchList(this.keyword);\r\n\t\t\t},\r\n\t\t\tfocus() {\r\n\t\t\t\tthis.keyword = '',\r\n\t\t\t\t\tthis.showSearch = true;\r\n\t\t\t},\r\n\t\t\t// 搜索列表\r\n\t\t\tsearchList(key) {\r\n\t\t\t\tthis.list = [];\r\n\t\t\t\tlet timeStamp = Math.round(new Date().getTime() / 1000);\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tappid: appid,\r\n\t\t\t\t\ttimeStamp: timeStamp,\r\n\t\t\t\t\tkeyword: key\r\n\t\t\t\t};\r\n\t\t\t\tlet sign = md5.hexMD5(rs.objKeySort(obj) + appsecret);\r\n\t\t\t\tlet params = Object.assign({\r\n\t\t\t\t\t\tsign: sign\r\n\t\t\t\t\t},\r\n\t\t\t\t\tobj\r\n\t\t\t\t);\r\n\t\t\t\trs.getRequest('getSearchItem', params, res => {\r\n\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\tif (data.code == 200) {\r\n\t\t\t\t\t\tthis.keyword = key;\r\n\t\t\t\t\t\tthis.showSearch = false;\r\n\t\t\t\t\t\tif (data.data.length != 0) {\r\n\t\t\t\t\t\t\tthis.list = data.data.list;\r\n\t\t\t\t\t\t\tthis.config = data.data;\r\n\t\t\t\t\t\t\tthis.bitmap = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.bitmap = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\trs.Toast(data.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// #ifdef APP-PLUS |MP-WEIXIN\r\n\t\t\tspeed() {\r\n\t\t\t\tthis.$refs.speech.open();\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.startSpeech = true;\r\n\t\t\t\tconst recorderManager = uni.getRecorderManager();\r\n\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\tduration: 3000, //指定录音的时长，单位 ms\r\n\t\t\t\t\tsampleRate: 16000, //采样率\r\n\t\t\t\t\tnumberOfChannels: 1, //录音通道数\r\n\t\t\t\t\tencodeBitRate: 96000, //编码码率\r\n\t\t\t\t\tformat: 'mp3', //音频格式，有效值 aac/mp3\r\n\t\t\t\t\tframeSize: 50, //指定帧大小，单位 KB\r\n\t\t\t\t}\r\n\r\n\t\t\t\trecorderManager.start(options)\r\n\r\n\t\t\t\trecorderManager.onStop((res) => {\r\n\t\t\t\t\tvar timeStamp = Math.round(new Date().getTime() / 1000);\r\n\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\tappid: appid,\r\n\t\t\t\t\t\ttimeStamp: timeStamp,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet sign = md5.hexMD5(rs.objKeySort(obj) + appsecret);\r\n\t\t\t\t\tvar audio = res.tempFilePath;\r\n\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\turl: app.rootUrl + \"/mobileOrder/voiceSearch\",\r\n\t\t\t\t\t\tfilePath: audio,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tname: 'audio',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'multipart/form-data',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\tappid: appid,\r\n\t\t\t\t\t\t\ttimeStamp: timeStamp,\r\n\t\t\t\t\t\t\taudio: audio,\r\n\t\t\t\t\t\t\tsign: sign,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(reg) {\r\n\t\t\t\t\t\t\tconsole.log(JSON.parse(reg.data))\r\n\t\t\t\t\t\t\tvar reg = JSON.parse(reg.data)\r\n\r\n\t\t\t\t\t\t\tif (reg.code == 200) {\r\n\t\t\t\t\t\t\t\tthat.keyword = reg.data.message.replace(/。/g, '');\r\n\t\t\t\t\t\t\t\tthat.showSearch = false;\r\n\t\t\t\t\t\t\t\tthat.$refs.speech.close();\r\n\t\t\t\t\t\t\t\tthat.searchList(that.keyword);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (reg.code == 501) {\r\n\t\t\t\t\t\t\t\tthat.startSpeech = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function() {\r\n\t\t\t\t\t\t\tthat.startSpeech = false;\r\n\t\t\t\t\t\t\tconsole.log(\"语音识别失败\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// #endif\r\n\r\n\t\t\t// #ifdef H5\r\n\t\t\tspeed() {\r\n\t\t\t\tthis.$refs.speech.open();\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.startSpeech = true;\r\n\r\n\t\t\t\twx.startRecord({\r\n\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\tconsole.log(wx)\r\n\t\t\t\t\t\trecordTimer = setTimeout(() => {\r\n\t\t\t\t\t\t\twx.stopRecord({\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\r\n\t\t\t\t\t\t\t\t\tthat.wxuploadVoice(res.localId);\r\n\t\t\t\t\t\t\t\t\tclearTimeout(recordTimer);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\t\t\talert(JSON.stringify(res));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 5000);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcancel: function() {\r\n\t\t\t\t\t\tthat.$toast('用户拒绝授权录音');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\twxuploadVoice(localId) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t//调用微信的上传录音接口把本地录音先上传到微信的服务器\r\n\t\t\t\t//不过，微信只保留3天，而我们需要长期保存，我们需要把资源从微信服务器下载到自己的服务器\r\n\t\t\t\twx.uploadVoice({\r\n\t\t\t\t\tlocalId: localId, // 需要上传的音频的本地ID，由stopRecord接口获得\r\n\t\t\t\t\tisShowProgressTips: 1, // 默认为1，显示进度提示\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\twx.downloadVoice({\r\n\t\t\t\t\t\t\tserverId: res.serverId, // 需要下载的音频的服务器端ID，由uploadVoice接口获得\r\n\t\t\t\t\t\t\tisShowProgressTips: 1, // 默认为1，显示进度提示\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tvar localId = res.localId; // 返回音频的本地ID\r\n\t\t\t\t\t\t\t\twx.translateVoice({\r\n\t\t\t\t\t\t\t\t\tlocalId: localId, // 需要识别的音频的本地Id，由录音相关接口获得\r\n\t\t\t\t\t\t\t\t\tisShowProgressTips: 1, // 默认为1，显示进度提示\r\n\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar transl = res.translateResult\r\n\t\t\t\t\t\t\t\t\t\ttransl = transl.replace(/。/g, \"\");\r\n\t\t\t\t\t\t\t\t\t\tthat.keyword = transl;\r\n\t\t\t\t\t\t\t\t\t\tthat.list = [];\r\n\t\t\t\t\t\t\t\t\t\tthat.showSearch = false;\r\n\t\t\t\t\t\t\t\t\t\tthat.$refs.speech.close();\r\n\t\t\t\t\t\t\t\t\t\tthat.searchList(that.keyword);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\t\t\t\tthat.startSpeech = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// #endif\r\n\r\n\t\t\twxConfig() {\r\n\t\t\t\tvar timeStamp = Math.round(new Date().getTime() / 1000);\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tappid: appid,\r\n\t\t\t\t\ttimeStamp: timeStamp\r\n\t\t\t\t};\r\n\t\t\t\tlet sign = md5.hexMD5(rs.objKeySort(obj) + appsecret);\r\n\t\t\t\tlet params = Object.assign({\r\n\t\t\t\t\tsign: sign\r\n\t\t\t\t}, obj)\r\n\t\t\t\trs.getRequests(\"wxConfig\", params, (response) => {\r\n\r\n\t\t\t\t\tif (response.data.code == 200) {\r\n\t\t\t\t\t\tconsole.log(response.data)\r\n\t\t\t\t\t\twx.config({\r\n\t\t\t\t\t\t\tdebug: false, // 开启调试模式\r\n\t\t\t\t\t\t\tappId: response.data.data.appId, // 必填，公众号的唯一标识\r\n\t\t\t\t\t\t\ttimestamp: response.data.data.timestamp, // 必填，生成签名的时间戳\r\n\t\t\t\t\t\t\tnonceStr: response.data.data.nonceStr, // 必填，生成签名的随机串\r\n\t\t\t\t\t\t\tsignature: response.data.data.signature, // 必填，签名，见附录1\r\n\t\t\t\t\t\t\tjsApiList: [\r\n\t\t\t\t\t\t\t\t'checkJsApi',\r\n\t\t\t\t\t\t\t\t'startRecord',\r\n\t\t\t\t\t\t\t\t'stopRecord',\r\n\t\t\t\t\t\t\t\t'translateVoice',\r\n\t\t\t\t\t\t\t\t'downloadVoice',\r\n\t\t\t\t\t\t\t\t'uploadVoice',\r\n\t\t\t\t\t\t\t\t'getLocation'\r\n\t\t\t\t\t\t\t] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tuni.setStorageSync('search', this.list);\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// #ifdef H5\r\n\t\t\tthis.wxConfig();\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\tthis.getSearchData();\r\n\t\t\tif (this.keyword) {\r\n\t\t\t\tthis.list = uni.getStorageSync('search');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.search_list .input_key {\r\n\t\tposition: fixed;\r\n\t\twidth: 98%;\r\n\t\tz-index: 9;\r\n\t\tbackground: white;\r\n\t\theight: 68rpx;\r\n\t\tpadding: 20rpx 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding-right: 20rpx;\r\n\t}\r\n\r\n\t.search_list .input_key .select_key {\r\n\t\tpadding: 0 10rpx 0 20rpx;\r\n\t\tborder-radius: 40rpx;\r\n\t\tbackground: #f7f6f6;\r\n\t\twidth: 84%;\r\n\t\theight: 68rpx;\r\n\t}\r\n\r\n\t.search_list .input_key .arrow_left {\r\n\t\twidth: 14%;\r\n\t}\r\n\r\n\t.search_list .input_key .right_area {\r\n\t\twidth: 85%;\r\n\t}\r\n\r\n\t.search_list .input_key .select_key .keyword {\r\n\t\twidth: 100%;background: #f7f6f6;\r\n\t}\r\n\r\n\t.search_list .hot_search {\r\n\t\tposition: fixed;\r\n\t\theight: calc(100vh - 108rpx);\r\n\t\tbackground: white;\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n\r\n\r\n\t.search_list .hot_search .key_tag {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.search_list .hot_search .key_tag text {\r\n\t\tborder-radius: 3px;\r\n\t\tcolor: grey;\r\n\t\tpadding: 0 6rpx;\r\n\t\tbackground: #f2f2f2;\r\n\t\tmargin: 20rpx 20rpx 0 0;\r\n\t}\r\n\r\n\t.search_list .search_bitmap {\r\n\t\tmargin-top: 25%;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.search_list .search_bitmap .bitmap {\r\n\t\twidth: 47%;\r\n\t}\r\n\r\n\t.search_list .search_result .my_profile {\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.search_list .lang_search {\r\n\t\tbackground: white;\r\n\t\tborder-radius: 10rpx 10rpx 0 0;\r\n\t\theight: 371rpx;\r\n\t\tcolor: #009943;\r\n\t}\r\n\r\n\r\n\t.search_list .lang_search .icon-X {\r\n\t\tposition: absolute;\r\n\t\tright: 20rpx;\r\n\t\ttext-align: right;\r\n\t\tcolor: gray;\r\n\t\tmargin-top: 20rpx;\r\n\r\n\t}\r\n\r\n\t.search_list .lang_search .correct>view {\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.search_list .lang_search .error_txt>view {\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t/* #ifdef APP-PLUS */\r\n\t.search_list .lang_search .error_txt .mic_filled {\r\n\t\tbackground: #009943;\r\n\t\tborder-radius: 50%;\r\n\t\tpadding: 10rpx;\r\n\t}\r\n\r\n\t.search_list .fixed {\r\n\t\tbackground: white;\r\n\t\tposition: fixed;\r\n\t\tz-index: 9;\r\n\t}\r\n\r\n\t/* #endif */\r\n\t/* #ifdef MP-WEIXIN */\r\n\t.search_list .lang_search .error_txt .mic_filled .uni-icons {\r\n\t\tbackground: #009943;\r\n\t\tborder-radius: 50%;\r\n\t\tpadding: 10rpx;\r\n\t}\r\n\r\n\t/* #endif */\r\n</style>\r\n","import mod from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594429345069\n      var cssReload = require(\"D:/360极速浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/index/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=64d2b7fe&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/search.vue\"\nexport default component.exports","export * from \"-!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360极速浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=64d2b7fe&\""],"sourceRoot":""}