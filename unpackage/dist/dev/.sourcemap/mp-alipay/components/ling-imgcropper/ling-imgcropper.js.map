{"version":3,"sources":["webpack:///E:/desktop/uniapp/components/ling-imgcropper/ling-imgcropper.vue?ec6f","webpack:///E:/desktop/uniapp/components/ling-imgcropper/ling-imgcropper.vue?f3e5","webpack:///E:/desktop/uniapp/components/ling-imgcropper/ling-imgcropper.vue?631d","webpack:///E:/desktop/uniapp/components/ling-imgcropper/ling-imgcropper.vue?2997","webpack:///E:/desktop/uniapp/components/ling-imgcropper/ling-imgcropper.vue","webpack:///E:/desktop/uniapp/components/ling-imgcropper/ling-imgcropper.vue?7a92","webpack:///E:/desktop/uniapp/components/ling-imgcropper/ling-imgcropper.vue?a717"],"names":["name","props","cropWidth","type","Number","default","cropHeight","cropFixed","Boolean","iszoom","src","String","showResetBtn","showRotateBtn","proportion","data","sysInfo","uni","getSystemInfoSync","pixelRatio","show","scale","rotate","cropW","cropH","cropOldW","cropOldH","imageRealWidth","imageRealHeight","cropOffsertX","cropOffsertY","startX","startY","border","x","y","startL","oldScale","scaling","watch","val","length","init","computed","containerTop","top","containerHeight","windowHeight","windowWidth","imageRatio","imageWidth","imageHeight","methods","moveHandle","rotateHandler","showLoading","title","loadImage","then","e","hideLoading","catch","showModal","content","_this","Promise","resolve","reject","getImageInfo","success","res","width","height","$nextTick","fail","cancel","$emit","confirm","event","console","log","ctx","createCanvasContext","imgage","imgW","imgH","dx","dy","setFillStyle","fillRect","save","Math","PI","drawImage","restore","draw","toTempFilePath","destWidth","destHeight","detail","tempFilePath","apFilePath","imgTouchStart","touches","pageX","pageY","hypotenuse","sqrt","pow","max","imgMoveing","newL","cha","coe","num","abs","moveX","moveY","imgMoveEnd","setTimeout","touchStart","cropMoveing","_cropX","_cropY","dragMove","_cropMoveLeft","_cropMoveTop","_cropMoveRight","_cropMoveBottom","topY","leftX"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwI;AACxI;AACmE;AACL;AACqC;;;AAGnG;AAC0L;AAC1L,gBAAgB,kMAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,sGAAM;AACR,EAAE,+GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAktB,CAAgB,kuBAAG,EAAC,C;;;;;;;;;;;;mICAtuB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdA,MAAI,EAAE,eADQ;AAEdC,OAAK,EAAE;AACNC,aAAS,EAAE;AACVC,UAAI,EAAEC,MADI;AAEVC,aAAO,EAAE,GAFC,EADL;;AAKNC,cAAU,EAAE;AACXH,UAAI,EAAEC,MADK;AAEXC,aAAO,EAAE,GAFE,EALN;;AASNE,aAAS,EAAE;AACVJ,UAAI,EAAEK,OADI;AAEVH,aAAO,EAAE,KAFC,EATL;;AAaNI,UAAM,EAAE;AACPN,UAAI,EAAEK,OADC;AAEPH,aAAO,EAAE,KAFF,EAbF;;AAiBNK,OAAG,EAAE;AACJP,UAAI,EAAEQ,MADF,EAjBC;;AAoBNC,gBAAY,EAAE;AACbT,UAAI,EAAEK,OADO;AAEbH,aAAO,EAAE,IAFI,EApBR;;AAwBNQ,iBAAa,EAAE;AACdV,UAAI,EAAEK,OADQ;AAEdH,aAAO,EAAE,IAFK,EAxBT;;AA4BNS,cAAU,EAAE;AACXX,UAAI,EAAEC,MADK;AAEXC,aAAO,EAAE,CAFE,EA5BN,EAFO;;;AAmCdU,MAnCc,kBAmCP;AACN,QAAMC,OAAO,GAAGC,GAAG,CAACC,iBAAJ,EAAhB;AACA,QAAMC,UAAU,GAAGH,OAAO,CAACG,UAA3B;AACA,WAAO;AACNC,UAAI,EAAE,KADA;AAENC,WAAK,EAAE,CAFD;AAGNC,YAAM,EAAE,CAHF;AAINC,WAAK,EAAE,CAJD;AAKNC,WAAK,EAAE,CALD;AAMNC,cAAQ,EAAE,CANJ;AAONC,cAAQ,EAAE,CAPJ;AAQNV,aAAO,EAAEA,OARH;AASNG,gBAAU,EAAEA,UATN;AAUNQ,oBAAc,EAAE,CAVV;AAWNC,qBAAe,EAAE,CAXX;AAYNC,kBAAY,EAAE,CAZR;AAaNC,kBAAY,EAAE,CAbR;AAcNC,YAAM,EAAE,CAdF;AAeNC,YAAM,EAAE,CAfF;AAgBN;AACAC,YAAM,EAAE,CAjBF;AAkBNC,OAAC,EAAE,CAlBG;AAmBNC,OAAC,EAAE,CAnBG;AAoBNC,YAAM,EAAE,CApBF;AAqBNC,cAAQ,EAAE,CArBJ;AAsBNC,aAAO,EAAE,IAtBH,EAAP;;AAwBA,GA9Da;AA+DdC,OAAK,EAAE;AACN7B,OADM,eACF8B,GADE,EACG;AACR,UAAIA,GAAG,CAACC,MAAJ,GAAa,CAAjB,EAAoB;AACnB,aAAKC,IAAL;AACA;AACD,KALK;AAMNtB,QANM,gBAMDoB,GANC,EAMI;AACT,UAAI,CAACA,GAAL,EAAU;AACT;AACA;AACD,KAVK,EA/DO;;AA2EdG,UAAQ,EAAE;AACTC,gBADS,0BACM;AACd,UAAIC,GAAG,GAAG,CAAV;;;;AAIA,aAAOA,GAAP;AACA,KAPQ;AAQT;AACAC,mBATS,6BASS;AACjB,aAAO,KAAKC,YAAL,GAAoB,EAA3B;AACA,KAXQ;AAYT;AACAC,eAbS,yBAaK;AACb,aAAO,KAAKhC,OAAL,CAAagC,WAApB;AACA,KAfQ;AAgBTD,gBAhBS,0BAgBM;AACd,aAAO,KAAK/B,OAAL,CAAa+B,YAApB;AACA,KAlBQ;AAmBT;AACAE,cApBS,wBAoBI;AACZ,UAAI,KAAKrB,eAAL,GAAuB,CAA3B,EAA8B;AAC7B,eAAO,KAAKD,cAAL,GAAsB,KAAKC,eAAlC;AACA;AACD,aAAO,CAAP;AACA,KAzBQ;AA0BT;AACAsB,cA3BS,wBA2BI;AACZ,UAAI,KAAKD,UAAL,IAAmB,CAAvB,EAA0B;AACzB,eAAO,KAAKD,WAAZ;AACA;AACD,aAAO,KAAKA,WAAL,GAAmB,KAAKC,UAA/B;AACA,KAhCQ;AAiCT;AACAE,eAlCS,yBAkCK;AACb,UAAI,KAAKF,UAAL,IAAmB,CAAvB,EAA0B;AACzB,eAAO,KAAKD,WAAL,GAAmB,KAAKC,UAA/B;AACA;AACD,aAAO,KAAKD,WAAZ;AACA,KAvCQ,EA3EI;;AAoHdI,SAAO,EAAE;AACRC,cADQ,wBACK;;AAEZ;AACA,KAJO;;AAMRC,iBANQ,2BAMQ;AACf,UAAI,KAAKhC,MAAL,IAAe,CAAnB,EAAsB;AACrB,aAAKA,MAAL,GAAc,CAAd;AACA,OAFD,MAEO;AACN,UAAE,KAAKA,MAAP;AACA;AACD,KAZO;AAaRoB,QAbQ,kBAaD;AACN,WAAKpB,MAAL,GAAc,CAAd;AACA,WAAKD,KAAL,GAAa,CAAb;AACA,WAAKE,KAAL,GAAa,KAAKrB,SAAlB;AACA,WAAKsB,KAAL,GAAa,KAAKlB,UAAlB;;AAEAW,SAAG,CAACsC,WAAJ,CAAgB;AACfC,aAAK,EAAE,UADQ,EAAhB;;AAGA,WAAKC,SAAL,CAAe,KAAK/C,GAApB,EAAyBgD,IAAzB,CAA8B,UAACC,CAAD,EAAO;AACpC1C,WAAG,CAAC2C,WAAJ;AACA,OAFD,EAEGC,KAFH,CAES,UAACF,CAAD,EAAO;AACf1C,WAAG,CAAC2C,WAAJ;AACA3C,WAAG,CAAC6C,SAAJ,CAAc;AACbN,eAAK,EAAE,IADM;AAEbO,iBAAO,EAAE,QAFI,EAAd;;AAIA,OARD;AASA,KA/BO;AAgCRN,aAhCQ,qBAgCE/C,GAhCF,EAgCO;AACd,UAAMsD,KAAK,GAAG,IAAd;AACA,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvClD,WAAG,CAACmD,YAAJ,CAAiB;AAChB1D,aAAG,EAAEA,GADW;AAEhB2D,iBAAO,EAAE,iBAACC,GAAD,EAAS;;AAEjBN,iBAAK,CAACrC,cAAN,GAAuB2C,GAAG,CAACC,KAA3B;AACAP,iBAAK,CAACpC,eAAN,GAAwB0C,GAAG,CAACE,MAA5B;;AAEAR,iBAAK,CAACnC,YAAN,GAAqBmC,KAAK,CAAChB,WAAN,GAAoB,CAApB,GAAwBgB,KAAK,CAACzC,KAAN,GAAc,CAA3D;AACAyC,iBAAK,CAAClC,YAAN,GAAqBkC,KAAK,CAACjB,YAAN,GAAqB,CAArB,GAAyBiB,KAAK,CAACxC,KAAN,GAAc,CAA5D;AACAwC,iBAAK,CAAC5C,IAAN,GAAa,IAAb;;AAEA4C,iBAAK,CAACS,SAAN,CAAgB,YAAM;AACrBT,mBAAK,CAAC9B,CAAN,GAAU8B,KAAK,CAAChB,WAAN,GAAoB,CAApB,GAAwBgB,KAAK,CAACd,UAAN,GAAmB,CAArD;AACAc,mBAAK,CAAC7B,CAAN,GAAU6B,KAAK,CAAClB,eAAN,GAAwB,CAAxB,GAA4BkB,KAAK,CAACb,WAAN,GAAoB,CAA1D;AACA,aAHD;AAIAe,mBAAO,CAACI,GAAD,CAAP;AACA,WAhBe;AAiBhBI,cAAI,EAAE,cAACf,CAAD,EAAO;AACZK,iBAAK,CAAC5C,IAAN,GAAa,KAAb;AACA+C,kBAAM,CAACR,CAAD,CAAN;AACA,WApBe,EAAjB;;AAsBA,OAvBM,EAuBJE,KAvBI,CAuBE,UAACF,CAAD,EAAO,CAAE,CAvBX,CAAP;;AAyBA,KA3DO;AA4DRgB,UA5DQ,oBA4DC;AACR,WAAKvD,IAAL,GAAY,KAAZ;AACA,WAAKwD,KAAL,CAAW,QAAX;AACA,KA/DO;AAgERC,WAhEQ,mBAgEAC,KAhEA,EAgEO;AACd7D,SAAG,CAACsC,WAAJ,CAAgB;AACfC,aAAK,EAAE,QADQ,EAAhB;;;AAIA,UAAI,KAAK/C,MAAT,EAAiB;AAChB,aAAKU,UAAL,GAAkB,CAAlB;AACA4D,eAAO,CAACC,GAAR,CAAY,eAAZ;AACA,OAHD,MAGO;AACN,YAAI,KAAKlE,UAAL,IAAmB,CAAvB;AACC,aAAKA,UAAL,GAAkB,KAAKK,UAAvB;AACD;;;AAGD,UAAM6C,KAAK,GAAG,IAAd;AACA,UAAMiB,GAAG,GAAGhE,GAAG,CAACiE,mBAAJ,CAAwB,UAAxB,EAAoClB,KAApC,CAAZ;;AAEA,UAAM7C,UAAU,GAAG6C,KAAK,CAAC7C,UAAzB;AACA,UAAMgE,MAAM,GAAGnB,KAAK,CAACtD,GAArB;AACA,UAAM0E,IAAI,GAAGpB,KAAK,CAACd,UAAN,GAAmBc,KAAK,CAAC3C,KAAtC;AACA,UAAMgE,IAAI,GAAGrB,KAAK,CAACb,WAAN,GAAoBa,KAAK,CAAC3C,KAAvC;AACA,UAAMC,MAAM,GAAG0C,KAAK,CAAC1C,MAArB;AACA,UAAIgE,EAAE,GAAGtB,KAAK,CAACnC,YAAN,GAAqBmC,KAAK,CAAC9B,CAA3B,GAA+B,CAAC8B,KAAK,CAACd,UAAN,GAAmBkC,IAApB,IAA4B,CAApE;AACA,UAAIG,EAAE,GAAGvB,KAAK,CAAClC,YAAN,GAAqBkC,KAAK,CAAC7B,CAA3B,GAA+B,CAAC6B,KAAK,CAACb,WAAN,GAAoBkC,IAArB,IAA6B,CAArE;;;;AAIAJ,SAAG,CAACO,YAAJ,CAAiB,OAAjB;AACAP,SAAG,CAACQ,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmBL,IAAnB,EAAyBC,IAAzB;AACAJ,SAAG,CAACS,IAAJ;;AAEAT,SAAG,CAAC3D,MAAJ,CAAYA,MAAM,GAAG,EAAT,GAAcqE,IAAI,CAACC,EAApB,GAA0B,GAArC;AACA,cAAQtE,MAAR;AACC,aAAK,CAAL;AACCgE,YAAE,IAAI,CAACD,IAAI,GAAGD,IAAR,IAAgB,CAAtB;AACAG,YAAE,IAAI,CAACF,IAAI,GAAGD,IAAR,IAAgB,CAAtB;AACAH,aAAG,CAACY,SAAJ,CAAcV,MAAd,EAAsB,CAACI,EAAvB,EAA2BD,EAA3B,EAA+BF,IAA/B,EAAqC,CAACC,IAAtC;AACA;AACD,aAAK,CAAL;AACCJ,aAAG,CAACY,SAAJ,CAAcV,MAAd,EAAsBG,EAAtB,EAA0BC,EAA1B,EAA8B,CAACH,IAA/B,EAAqC,CAACC,IAAtC;AACA;AACD,aAAK,CAAL;AACCC,YAAE,IAAI,CAACD,IAAI,GAAGD,IAAR,IAAgB,CAAtB;AACAG,YAAE,IAAI,CAACF,IAAI,GAAGD,IAAR,IAAgB,CAAtB;AACAH,aAAG,CAACY,SAAJ,CAAcV,MAAd,EAAsBI,EAAtB,EAA0B,CAACD,EAA3B,EAA+B,CAACF,IAAhC,EAAsCC,IAAtC;AACA;AACD;AACCJ,aAAG,CAACY,SAAJ,CAAcV,MAAd,EAAsB,CAACG,EAAvB,EAA2B,CAACC,EAA5B,EAAgCH,IAAhC,EAAsCC,IAAtC;AACA;AACA,gBAjBF;;;;;AAsBAJ,SAAG,CAACa,OAAJ;;AAEAb,SAAG,CAACc,IAAJ,CAAS,IAAT,EAAe,YAAM;;AAEpBd,WAAG,CAACe,cAAJ,CAAmB;AAClBC,mBAAS,EAAEjC,KAAK,CAACzC,KAAN,GAAcJ,UADP;AAElB+E,oBAAU,EAAElC,KAAK,CAACxC,KAAN,GAAcL,UAFR;AAGlBkD,iBAAO,EAAE,iBAACC,GAAD,EAAS;;AAEjBrD,eAAG,CAAC2C,WAAJ;;;AAGA;AACAkB,iBAAK,CAACqB,MAAN,CAAaC,YAAb,GAA4B9B,GAAG,CAAC+B,UAAhC;;AAEArC,iBAAK,CAAC5C,IAAN,GAAa,KAAb;AACA4C,iBAAK,CAACY,KAAN,CAAY,SAAZ,EAAuBE,KAAvB;AACA,WAbiB;AAclBJ,cAAI,EAAE,cAACf,CAAD,EAAO;AACZ1C,eAAG,CAAC2C,WAAJ;AACA3C,eAAG,CAAC6C,SAAJ,CAAc;AACbN,mBAAK,EAAE,IADM;AAEbO,qBAAO,EAAE,MAFI,EAAd;;AAIA,WApBiB,EAAnB;AAqBGC,aArBH;AAsBA,OAxBD;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,KAzKO;AA0KRsC,iBA1KQ,yBA0KM3C,CA1KN,EA0KS;AAChB,UAAIA,CAAC,CAAC4C,OAAF,CAAU9D,MAAV,IAAoB,CAAxB,EAA2B;AAC1B,aAAKJ,QAAL,GAAgB,KAAKhB,KAArB;AACA,aAAKiB,OAAL,GAAe,IAAf;AACA,YAAMJ,CAAC,GAAGyB,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAqB7C,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaC,KAA5C;AACA,YAAMrE,CAAC,GAAGwB,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaE,KAAb,GAAqB9C,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaE,KAA5C;AACA,YAAMC,UAAU,GAAGf,IAAI,CAACgB,IAAL;AAClBhB,YAAI,CAACiB,GAAL,CAAS1E,CAAT,EAAY,CAAZ;AACAyD,YAAI,CAACiB,GAAL,CAASzE,CAAT,EAAY,CAAZ,CAFkB,CAAnB;;;AAKA,aAAKC,MAAL,GAAcuD,IAAI,CAACkB,GAAL,CAAS3E,CAAT,EAAYC,CAAZ,EAAeuE,UAAf,CAAd;;AAEA,OAZD,MAYO;AACN,aAAKpE,OAAL,GAAe,IAAf;AACA,aAAKP,MAAL,GAAc4B,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAqB,KAAKtE,CAAxC;AACA,aAAKF,MAAL,GAAc2B,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaE,KAAb,GAAqB,KAAKtE,CAAxC;AACA;AACD,KA5LO;AA6LR2E,cA7LQ,sBA6LGnD,CA7LH,EA6LM;;AAEb;;AAEA,UAAI,KAAKrB,OAAL,IAAgBqB,CAAC,CAAC4C,OAAF,CAAU9D,MAAV,IAAoB,CAAxC,EAA2C;AAC1C,YAAIpB,KAAK,GAAG,KAAKgB,QAAjB;AACA;AACA,YAAMH,CAAC,GAAGyB,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAqB7C,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaC,KAA5C;AACA,YAAMrE,CAAC,GAAGwB,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaE,KAAb,GAAqB9C,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaE,KAA5C;;;AAGA,YAAMC,UAAU,GAAGf,IAAI,CAACgB,IAAL;AAClBhB,YAAI,CAACiB,GAAL,CAAS1E,CAAT,EAAY,CAAZ;AACAyD,YAAI,CAACiB,GAAL,CAASzE,CAAT,EAAY,CAAZ,CAFkB,CAAnB;;;AAKA,YAAM4E,IAAI,GAAGpB,IAAI,CAACkB,GAAL,CAAS3E,CAAT,EAAYC,CAAZ,EAAeuE,UAAf,CAAb;;AAEA,YAAMM,GAAG,GAAGD,IAAI,GAAG,KAAK3E,MAAxB;;AAEA;AACA;AACA,YAAI6E,GAAG,GAAG,CAAV;AACAA,WAAG;AACFA,WAAG,GAAG,KAAK/D,UAAX,GAAwB+D,GAAG,GAAG,KAAK9D,WAAnC;AACA8D,WAAG,GAAG,KAAK9D,WADX;AAEA8D,WAAG,GAAG,KAAK/D,UAHZ;AAIA+D,WAAG,GAAGA,GAAG,GAAG,GAAN,GAAY,GAAZ,GAAkBA,GAAxB;AACA,YAAMC,GAAG,GAAGD,GAAG,GAAGD,GAAlB;;AAEA,YAAIA,GAAG,GAAG,CAAV,EAAa;AACZ3F,eAAK,IAAIsE,IAAI,CAACwB,GAAL,CAASD,GAAT,CAAT;AACA,SAFD,MAEO,IAAIF,GAAG,GAAG,CAAV,EAAa;AACnB3F,eAAK,GAAGsE,IAAI,CAACwB,GAAL,CAASD,GAAT,CAAR,GAAyB7F,KAAK,IAAIsE,IAAI,CAACwB,GAAL,CAASD,GAAT,CAAlC,GAAmD7F,KAAnD;AACA;;AAED,aAAKA,KAAL,GAAaA,KAAb;AACA,OAjCD,MAiCO;AACN,YAAI,KAAKiB,OAAT,EAAkB;AACjB,cAAM8E,KAAK,GAAGzD,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAqB,KAAKzE,MAAxC;AACA,cAAMsF,KAAK,GAAG1D,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaE,KAAb,GAAqB,KAAKzE,MAAxC;AACA+C,iBAAO,CAACC,GAAR,CAAY,IAAZ;AACA,eAAK9C,CAAL,GAASkF,KAAT;AACA,eAAKjF,CAAL,GAASkF,KAAT;AACA;AACD;AACD,KA3OO;AA4ORC,cA5OQ,wBA4OK;AACZC,gBAAU,CAAC,YAAM;AAChB,cAAI,CAACjF,OAAL,GAAe,KAAf;AACA,OAFS,EAEP,GAFO,CAAV;AAGA,KAhPO;AAiPRkF,cAjPQ,sBAiPG7D,CAjPH,EAiPM;AACb,UAAI,CAAC,KAAKrB,OAAV,EAAmB;AAClB,aAAKP,MAAL,GAAc4B,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAqB,KAAK3E,YAAxC;AACA,aAAKG,MAAL,GAAc2B,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaE,KAAb,GAAqB,KAAK3E,YAAxC;;AAEA,aAAKL,QAAL,GAAgB,KAAKF,KAArB;AACA,aAAKG,QAAL,GAAgB,KAAKF,KAArB;AACA;AACD,KAzPO;AA0PRiG,eA1PQ,uBA0PI9D,CA1PJ,EA0PO;AACd,UAAI,CAAC,KAAKrB,OAAV,EAAmB;AAClB,YAAM8E,KAAK,GAAG,KAAKM,MAAL,CAAY/D,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAqB,KAAKzE,MAAtC,CAAd;AACA,YAAMsF,KAAK,GAAG,KAAKM,MAAL,CAAYhE,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaE,KAAb,GAAqB,KAAKzE,MAAtC,CAAd;;AAEA,aAAKH,YAAL,GAAoBuF,KAApB;AACA,aAAKtF,YAAL,GAAoBuF,KAApB;AACA;AACD,KAlQO;AAmQRO,YAnQQ,oBAmQCjE,CAnQD,EAmQIxD,IAnQJ,EAmQU;AACjB,UAAI,KAAKI,SAAT,EAAoB;AACnB,eAAO,KAAP;AACA;AACD,UAAM6G,KAAK,GAAGzD,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAqB,KAAKzE,MAAxC;AACA,UAAMsF,KAAK,GAAG1D,CAAC,CAAC4C,OAAF,CAAU,CAAV,EAAaE,KAAb,GAAqB,KAAKzE,MAAxC;AACA,cAAQ7B,IAAR;AACC,aAAK,UAAL;AACC,eAAK0H,aAAL,CAAmBT,KAAnB;AACA,eAAKU,YAAL,CAAkBT,KAAlB;AACA;AACD,aAAK,YAAL;AACC,eAAKS,YAAL,CAAkBT,KAAlB;AACA;AACD,aAAK,WAAL;AACC,eAAKS,YAAL,CAAkBT,KAAlB;AACA,eAAKU,cAAL,CAAoBX,KAApB;AACA;AACD,aAAK,cAAL;AACC,eAAKW,cAAL,CAAoBX,KAApB;AACA;AACD,aAAK,cAAL;AACC,eAAKW,cAAL,CAAoBX,KAApB;AACA,eAAKY,eAAL,CAAqBX,KAArB;AACA;AACD,aAAK,eAAL;AACC,eAAKW,eAAL,CAAqBX,KAArB;AACA;AACD,aAAK,aAAL;AACC,eAAKW,eAAL,CAAqBX,KAArB;AACA,eAAKQ,aAAL,CAAmBT,KAAnB;AACA;AACD,aAAK,aAAL;AACC,eAAKS,aAAL,CAAmBT,KAAnB;AACA;AACD;AACC,gBA9BF;;AAgCA,KAzSO;AA0SRU,gBA1SQ,wBA0SK3F,CA1SL,EA0SQ;AACf,UAAM8F,IAAI,GAAG,KAAKN,MAAL,CAAYxF,CAAZ,CAAb;AACA,WAAKX,KAAL,IAAc,KAAKM,YAAL,GAAoBmG,IAAlC;AACA,WAAKnG,YAAL,GAAoBmG,IAApB;AACA,KA9SO;AA+SRF,kBA/SQ,0BA+SO7F,CA/SP,EA+SU;AACjB,UAAI,KAAKT,QAAL,GAAgBS,CAAhB,IAAqB,KAAKc,WAAL,GAAmB,KAAKf,MAAjD,EAAyD;AACxD,eAAO,KAAP;AACA;AACD,WAAKV,KAAL,GAAa,KAAKE,QAAL,IAAiBS,CAAC,GAAG,KAAKL,YAA1B,CAAb;AACA,KApTO;AAqTRmG,mBArTQ,2BAqTQ7F,CArTR,EAqTW;AAClB,UAAI,KAAKT,QAAL,GAAgBS,CAAhB,IAAqB,KAAKY,YAAL,GAAoB,KAAKH,YAAzB,GAAwC,KAAKX,MAAtE,EAA8E;AAC7E,eAAO,KAAP;AACA;AACD,WAAKT,KAAL,GAAa,KAAKE,QAAL,IAAiBS,CAAC,GAAG,KAAKL,YAA1B,CAAb;AACA,KA1TO;AA2TR+F,iBA3TQ,yBA2TM3F,CA3TN,EA2TS;AAChB,UAAMgG,KAAK,GAAG,KAAKP,MAAL,CAAYzF,CAAZ,CAAd;AACA,WAAKX,KAAL,IAAc,KAAKM,YAAL,GAAoBqG,KAAlC;AACA,WAAKrG,YAAL,GAAoBqG,KAApB;AACA,KA/TO;AAgURR,UAhUQ,kBAgUDxF,CAhUC,EAgUE;AACT,UAAIA,CAAC,IAAI,KAAKD,MAAd,EAAsB;AACrB,eAAO,KAAKA,MAAZ;AACA;AACD,UAAIC,CAAC,GAAG,KAAKX,KAAT,IAAkB,KAAKyB,WAAL,GAAmB,KAAKf,MAA9C,EAAsD;AACrD,eAAO,KAAKe,WAAL,GAAmB,KAAKzB,KAAxB,GAAgC,KAAKU,MAA5C;AACA;AACD,aAAOC,CAAP;AACA,KAxUO;AAyURyF,UAzUQ,kBAyUDxF,CAzUC,EAyUE;AACT,UAAIA,CAAC,IAAI,KAAKF,MAAd,EAAsB;AACrB,eAAO,KAAKA,MAAZ;AACA;AACD,UAAIE,CAAC,GAAG,KAAKX,KAAT,IAAkB,KAAKuB,YAAL,GAAoB,KAAKH,YAAzB,GAAwC,KAAKX,MAAnE,EAA2E;AAC1E,eAAO,KAAKc,YAAL,GAAoB,KAAKvB,KAAzB,GAAiC,KAAKoB,YAAtC,GAAqD,KAAKX,MAAjE;AACA;AACD,aAAOE,CAAP;AACA,KAjVO,EApHK,E;;;;;;;;;;;;;AC/Df;AAAA;AAAA;AAAA;AAAsiC,CAAgB,yhCAAG,EAAC,C;;;;;;;;;;;ACA1jC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/ling-imgcropper/ling-imgcropper.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ling-imgcropper.vue?vue&type=template&id=6a4168b9&scoped=true&\"\nvar renderjs\nimport script from \"./ling-imgcropper.vue?vue&type=script&lang=js&\"\nexport * from \"./ling-imgcropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ling-imgcropper.vue?vue&type=style&index=0&id=6a4168b9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a4168b9\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/desktop/uniapp/components/ling-imgcropper/ling-imgcropper.vue\"\nexport default component.exports","export * from \"-!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=template&id=6a4168b9&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: 'image-cropper',\n\tprops: {\n\t\tcropWidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 200,\n\t\t},\n\t\tcropHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 200\n\t\t},\n\t\tcropFixed: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tiszoom: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tsrc: {\n\t\t\ttype: String,\n\t\t},\n\t\tshowResetBtn: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tshowRotateBtn: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tproportion: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t},\n\tdata() {\n\t\tconst sysInfo = uni.getSystemInfoSync();\n\t\tconst pixelRatio = sysInfo.pixelRatio\n\t\treturn {\n\t\t\tshow: false,\n\t\t\tscale: 1,\n\t\t\trotate: 0,\n\t\t\tcropW: 0,\n\t\t\tcropH: 0,\n\t\t\tcropOldW: 0,\n\t\t\tcropOldH: 0,\n\t\t\tsysInfo: sysInfo,\n\t\t\tpixelRatio: pixelRatio,\n\t\t\timageRealWidth: 0,\n\t\t\timageRealHeight: 0,\n\t\t\tcropOffsertX: 0,\n\t\t\tcropOffsertY: 0,\n\t\t\tstartX: 0,\n\t\t\tstartY: 0,\n\t\t\t// 裁剪框与边界间距\n\t\t\tborder: 5,\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tstartL: 0,\n\t\t\toldScale: 1,\n\t\t\tscaling: true,\n\t\t}\n\t},\n\twatch: {\n\t\tsrc(val) {\n\t\t\tif (val.length > 0) {\n\t\t\t\tthis.init()\n\t\t\t}\n\t\t},\n\t\tshow(val) {\n\t\t\tif (!val) {\n\t\t\t\t//   this.src = ''\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tcontainerTop() {\n\t\t\tlet top = 0\n\n\n\n\t\t\treturn top;\n\t\t},\n\t\t// 容器高度\n\t\tcontainerHeight() {\n\t\t\treturn this.windowHeight - 48;\n\t\t},\n\t\t// 屏幕宽度\n\t\twindowWidth() {\n\t\t\treturn this.sysInfo.windowWidth;\n\t\t},\n\t\twindowHeight() {\n\t\t\treturn this.sysInfo.windowHeight;\n\t\t},\n\t\t// 图片宽高比\n\t\timageRatio() {\n\t\t\tif (this.imageRealHeight > 0) {\n\t\t\t\treturn this.imageRealWidth / this.imageRealHeight\n\t\t\t}\n\t\t\treturn 0\n\t\t},\n\t\t// 等比缩放后的宽度\n\t\timageWidth() {\n\t\t\tif (this.imageRatio >= 1) {\n\t\t\t\treturn this.windowWidth\n\t\t\t}\n\t\t\treturn this.windowWidth * this.imageRatio\n\t\t},\n\t\t// 等比缩放后的高度\n\t\timageHeight() {\n\t\t\tif (this.imageRatio >= 1) {\n\t\t\t\treturn this.windowWidth / this.imageRatio\n\t\t\t}\n\t\t\treturn this.windowWidth\n\t\t},\n\t},\n\tmethods: {\n\t\tmoveHandle() {\n\n\t\t\t//return  false;\n\t\t},\n\n\t\trotateHandler() {\n\t\t\tif (this.rotate == 3) {\n\t\t\t\tthis.rotate = 0;\n\t\t\t} else {\n\t\t\t\t++this.rotate\n\t\t\t}\n\t\t},\n\t\tinit() {\n\t\t\tthis.rotate = 0;\n\t\t\tthis.scale = 1;\n\t\t\tthis.cropW = this.cropWidth\n\t\t\tthis.cropH = this.cropHeight\n\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '图片加载中...',\n\t\t\t})\n\t\t\tthis.loadImage(this.src).then((e) => {\n\t\t\t\tuni.hideLoading()\n\t\t\t}).catch((e) => {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '标题',\n\t\t\t\t\tcontent: '图片加载失败'\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tloadImage(src) {\n\t\t\tconst _this = this\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.getImageInfo({\n\t\t\t\t\tsrc: src,\n\t\t\t\t\tsuccess: (res) => {\n\n\t\t\t\t\t\t_this.imageRealWidth = res.width\n\t\t\t\t\t\t_this.imageRealHeight = res.height\n\n\t\t\t\t\t\t_this.cropOffsertX = _this.windowWidth / 2 - _this.cropW / 2\n\t\t\t\t\t\t_this.cropOffsertY = _this.windowHeight / 2 - _this.cropH / 2\n\t\t\t\t\t\t_this.show = true\n\n\t\t\t\t\t\t_this.$nextTick(() => {\n\t\t\t\t\t\t\t_this.x = _this.windowWidth / 2 - _this.imageWidth / 2\n\t\t\t\t\t\t\t_this.y = _this.containerHeight / 2 - _this.imageHeight / 2\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve(res)\n\t\t\t\t\t},\n\t\t\t\t\tfail: (e) => {\n\t\t\t\t\t\t_this.show = false\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}).catch((e) => {});\n\n\t\t},\n\t\tcancel() {\n\t\t\tthis.show = false\n\t\t\tthis.$emit('cancel')\n\t\t},\n\t\tconfirm(event) {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '裁剪中...',\n\t\t\t})\n\n\t\t\tif (this.iszoom) {\n\t\t\t\tthis.pixelRatio = 1;\n\t\t\t\tconsole.log(\"this is fixed\")\n\t\t\t} else {\n\t\t\t\tif (this.proportion != 0)\n\t\t\t\t\tthis.proportion = this.pixelRatio;\n\t\t\t}\n\n\n\t\t\tconst _this = this\n\t\t\tconst ctx = uni.createCanvasContext('myCanvas', _this);\n\n\t\t\tconst pixelRatio = _this.pixelRatio\n\t\t\tconst imgage = _this.src\n\t\t\tconst imgW = _this.imageWidth * _this.scale;\n\t\t\tconst imgH = _this.imageHeight * _this.scale\n\t\t\tconst rotate = _this.rotate\n\t\t\tlet dx = _this.cropOffsertX - _this.x - (_this.imageWidth - imgW) / 2;\n\t\t\tlet dy = _this.cropOffsertY - _this.y - (_this.imageHeight - imgH) / 2;\n\n\n\n\t\t\tctx.setFillStyle('white')\n\t\t\tctx.fillRect(0, 0, imgW, imgH)\n\t\t\tctx.save()\n\n\t\t\tctx.rotate((rotate * 90 * Math.PI) / 180);\n\t\t\tswitch (rotate) {\n\t\t\t\tcase 1:\n\t\t\t\t\tdx += (imgH - imgW) / 2\n\t\t\t\t\tdy -= (imgH - imgW) / 2\n\t\t\t\t\tctx.drawImage(imgage, -dy, dx, imgW, -imgH);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tctx.drawImage(imgage, dx, dy, -imgW, -imgH);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tdx += (imgH - imgW) / 2\n\t\t\t\t\tdy -= (imgH - imgW) / 2\n\t\t\t\t\tctx.drawImage(imgage, dy, -dx, -imgW, imgH);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tctx.drawImage(imgage, -dx, -dy, imgW, imgH);\n\t\t\t\t\t//ctx.drawImage(imgage, 2, 2, 375,375);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\n\n\t\t\tctx.restore()\n\n\t\t\tctx.draw(true, () => {\n\n\t\t\t\tctx.toTempFilePath({\n\t\t\t\t\tdestWidth: _this.cropW * pixelRatio,\n\t\t\t\t\tdestHeight: _this.cropH * pixelRatio,\n\t\t\t\t\tsuccess: (res) => {\n\n\t\t\t\t\t\tuni.hideLoading()\n\n\n\t\t\t\t\t\t// event.detail.tempFilePath =filePath\n\t\t\t\t\t\tevent.detail.tempFilePath = res.apFilePath\n\n\t\t\t\t\t\t_this.show = false\n\t\t\t\t\t\t_this.$emit('confirm', event)\n\t\t\t\t\t},\n\t\t\t\t\tfail: (e) => {\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '裁剪失败'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}, _this);\n\t\t\t})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t},\n\t\timgTouchStart(e) {\n\t\t\tif (e.touches.length >= 2) {\n\t\t\t\tthis.oldScale = this.scale\n\t\t\t\tthis.scaling = true\n\t\t\t\tconst x = e.touches[0].pageX - e.touches[1].pageX\n\t\t\t\tconst y = e.touches[0].pageY - e.touches[1].pageY\n\t\t\t\tconst hypotenuse = Math.sqrt(\n\t\t\t\t\tMath.pow(x, 2) +\n\t\t\t\t\tMath.pow(y, 2)\n\t\t\t\t)\n\n\t\t\t\tthis.startL = Math.max(x, y, hypotenuse)\n\n\t\t\t} else {\n\t\t\t\tthis.scaling = true\n\t\t\t\tthis.startX = e.touches[0].pageX - this.x\n\t\t\t\tthis.startY = e.touches[0].pageY - this.y\n\t\t\t}\n\t\t},\n\t\timgMoveing(e) {\n\n\t\t\t//  if(this.scaling) {\n\n\t\t\tif (this.scaling && e.touches.length >= 2) {\n\t\t\t\tlet scale = this.oldScale\n\t\t\t\t// console.log(\"双指\")\n\t\t\t\tconst x = e.touches[0].pageX - e.touches[1].pageX\n\t\t\t\tconst y = e.touches[0].pageY - e.touches[1].pageY\n\n\n\t\t\t\tconst hypotenuse = Math.sqrt(\n\t\t\t\t\tMath.pow(x, 2) +\n\t\t\t\t\tMath.pow(y, 2)\n\t\t\t\t)\n\n\t\t\t\tconst newL = Math.max(x, y, hypotenuse)\n\n\t\t\t\tconst cha = newL - this.startL;\n\n\t\t\t\t// 根据图片本身大小 决定每次改变大小的系数, 图片越大系数越小\n\t\t\t\t// 1px - 0.2\n\t\t\t\tlet coe = 1;\n\t\t\t\tcoe =\n\t\t\t\t\tcoe / this.imageWidth > coe / this.imageHeight ?\n\t\t\t\t\tcoe / this.imageHeight :\n\t\t\t\t\tcoe / this.imageWidth;\n\t\t\t\tcoe = coe > 0.1 ? 0.1 : coe;\n\t\t\t\tconst num = coe * cha;\n\n\t\t\t\tif (cha > 0) {\n\t\t\t\t\tscale += Math.abs(num);\n\t\t\t\t} else if (cha < 0) {\n\t\t\t\t\tscale > Math.abs(num) ? (scale -= Math.abs(num)) : scale;\n\t\t\t\t}\n\n\t\t\t\tthis.scale = scale;\n\t\t\t} else {\n\t\t\t\tif (this.scaling) {\n\t\t\t\t\tconst moveX = e.touches[0].pageX - this.startX\n\t\t\t\t\tconst moveY = e.touches[0].pageY - this.startY\n\t\t\t\t\tconsole.log(\"单指\")\n\t\t\t\t\tthis.x = moveX\n\t\t\t\t\tthis.y = moveY\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\timgMoveEnd() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.scaling = false\n\t\t\t}, 100)\n\t\t},\n\t\ttouchStart(e) {\n\t\t\tif (!this.scaling) {\n\t\t\t\tthis.startX = e.touches[0].pageX - this.cropOffsertX;\n\t\t\t\tthis.startY = e.touches[0].pageY - this.cropOffsertY;\n\n\t\t\t\tthis.cropOldW = this.cropW\n\t\t\t\tthis.cropOldH = this.cropH\n\t\t\t}\n\t\t},\n\t\tcropMoveing(e) {\n\t\t\tif (!this.scaling) {\n\t\t\t\tconst moveX = this._cropX(e.touches[0].pageX - this.startX)\n\t\t\t\tconst moveY = this._cropY(e.touches[0].pageY - this.startY)\n\n\t\t\t\tthis.cropOffsertX = moveX\n\t\t\t\tthis.cropOffsertY = moveY\n\t\t\t}\n\t\t},\n\t\tdragMove(e, type) {\n\t\t\tif (this.cropFixed) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconst moveX = e.touches[0].pageX - this.startX\n\t\t\tconst moveY = e.touches[0].pageY - this.startY\n\t\t\tswitch (type) {\n\t\t\t\tcase 'left-top':\n\t\t\t\t\tthis._cropMoveLeft(moveX)\n\t\t\t\t\tthis._cropMoveTop(moveY)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle-top':\n\t\t\t\t\tthis._cropMoveTop(moveY)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right-top':\n\t\t\t\t\tthis._cropMoveTop(moveY)\n\t\t\t\t\tthis._cropMoveRight(moveX)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle-right':\n\t\t\t\t\tthis._cropMoveRight(moveX)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right-bottom':\n\t\t\t\t\tthis._cropMoveRight(moveX)\n\t\t\t\t\tthis._cropMoveBottom(moveY)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle-bottom':\n\t\t\t\t\tthis._cropMoveBottom(moveY)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left-bottom':\n\t\t\t\t\tthis._cropMoveBottom(moveY)\n\t\t\t\t\tthis._cropMoveLeft(moveX)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle-left':\n\t\t\t\t\tthis._cropMoveLeft(moveX)\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t_cropMoveTop(y) {\n\t\t\tconst topY = this._cropY(y)\n\t\t\tthis.cropH += this.cropOffsertY - topY\n\t\t\tthis.cropOffsertY = topY\n\t\t},\n\t\t_cropMoveRight(x) {\n\t\t\tif (this.cropOldW + x >= this.windowWidth - this.border) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.cropW = this.cropOldW + (x - this.cropOffsertX)\n\t\t},\n\t\t_cropMoveBottom(y) {\n\t\t\tif (this.cropOldH + y >= this.windowHeight - this.containerTop - this.border) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.cropH = this.cropOldH + (y - this.cropOffsertY)\n\t\t},\n\t\t_cropMoveLeft(x) {\n\t\t\tconst leftX = this._cropY(x)\n\t\t\tthis.cropW += this.cropOffsertX - leftX\n\t\t\tthis.cropOffsertX = leftX\n\t\t},\n\t\t_cropX(x) {\n\t\t\tif (x <= this.border) {\n\t\t\t\treturn this.border\n\t\t\t}\n\t\t\tif (x + this.cropW >= this.windowWidth - this.border) {\n\t\t\t\treturn this.windowWidth - this.cropW - this.border\n\t\t\t}\n\t\t\treturn x\n\t\t},\n\t\t_cropY(y) {\n\t\t\tif (y <= this.border) {\n\t\t\t\treturn this.border\n\t\t\t}\n\t\t\tif (y + this.cropH >= this.windowHeight - this.containerTop - this.border) {\n\t\t\t\treturn this.windowHeight - this.cropH - this.containerTop - this.border\n\t\t\t}\n\t\t\treturn y\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=style&index=0&id=6a4168b9&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\QMDownload\\\\SoftMgr\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ling-imgcropper.vue?vue&type=style&index=0&id=6a4168b9&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1595491996788\n      var cssReload = require(\"D:/QMDownload/SoftMgr/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}