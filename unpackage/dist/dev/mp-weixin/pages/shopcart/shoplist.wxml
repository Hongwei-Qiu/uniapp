<view class="shoplist"><uni-nav-bar vue-id="4723387c-1" left-icon="arrowleft" right-text="清空" title="商品列表" status-bar="{{navBar}}" fixed="true" data-event-opts="{{[['^clickLeft',[['leftClick']]],['^clickRight',[['rightClick']]]]}}" bind:clickLeft="__e" bind:clickRight="__e" bind:__l="__l"></uni-nav-bar><view class="shop"><block wx:for="{{shop}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view><view><block wx:if="{{item.count}}"><view class="class_name"><text class="class_tag">类别</text><text>{{''+item.p_name+"("+item.count+")"}}</text></view></block><block wx:for="{{item.list}}" wx:for-item="list" wx:for-index="second" wx:key="second"><view class="single_good"><view class="flex"><view class="good_img"><block wx:if="{{config.logo&&config.shuiyin==1}}"><image class="shuiyin" src="{{config.logo}}" mode="aspectFit"></image></block><image class="have_img" src="{{list.img==''?imgRemote+config.item_default:list.img}}" mode="aspectFit"></image></view><view class="include_delete"><view class="info"><view style="width:86%;"><view>{{list.title}}</view><block wx:if="{{list.describe}}"><view class="hidden gray_font">{{list.describe}}</view></block></view><view data-event-opts="{{[['tap',[['deleteSign',['$0',index,second],[[['shop','',index],['list','',second]]]]]]]}}" bindtap="__e"><text class="iconfont icon-shanchu"></text></view></view><view class="flex_left_right"><view><view><block wx:for="{{list.label}}" wx:for-item="label" wx:for-index="__i0__" wx:key="*this"><text class="red_tag">{{label}}</text></block></view><block wx:if="{{token}}"><block><block wx:if="{{config.is_look==1}}"><block><block wx:if="{{list.attr.length!=0}}"><view><block wx:if="{{list.attr.activity_num>=list.cart_num&&list.attr.is_activity==1}}"><text class="red_font">{{"￥"+list.attr.activity_price+"/"+list.attr.unit}}</text></block><block wx:else><text class="red_font"><block wx:if="{{list.attr.market_price==1}}"><block>时价</block></block><block wx:else><block>{{'￥'+list.attr.attr_price+"/"+list.attr.unit}}</block></block></text></block><text class="gray_font">{{"已选("+list.attr.attr_title+")"}}</text></view></block><block wx:else><view><block wx:if="{{list.activity_num>=list.cart_num&&list.is_activity==1}}"><text class="red_font">{{"￥"+list.activity_price+"/"+list.unit}}</text></block><block wx:else><text class="red_font"><block wx:if="{{list.market_price==1}}"><block>时价</block></block><block wx:else><block>{{'￥'+list.price+"/"+list.unit}}</block></block></text></block></view></block></block></block><block wx:else><view class="red_font">￥***</view></block></block></block><block wx:else><block><block wx:if="{{list.attr.length}}"><view><text class="red_font">{{"￥"+list.attr.attr_price+"/"+list.attr.unit}}</text><text class="gray_font">已选(list.attr.attr_title)</text></view></block><block wx:else><view><text class="red_font">{{"￥"+list.price+"/"+list.unit}}</text></view></block></block></block></view><view><my-stepper vue-id="{{'4723387c-2-'+index+'-'+second}}" val="{{list.cart_num}}" data-event-opts="{{[['^showKey',[['showKey',['$0',index,second],[[['shop','',index],['list','',second]]]]]],['^minus',[['minus',['$0',index,second,list.cart_num-1],[[['shop','',index],['list','',second]]]]]],['^plus',[['plus',['$0',index,second,list.cart_num+1],[[['shop','',index],['list','',second]]]]]]]}}" bind:showKey="__e" bind:minus="__e" bind:plus="__e" bind:__l="__l"></my-stepper></view></view></view></view><view class="align_center"><text>备注:</text><view data-event-opts="{{[['tap',[['getFocus',['$0',index,second],[[['shop','',index],['list','',second]]]]]]]}}" style="width:89%;" bindtap="__e"><block wx:if="{{list.remark}}"><text>{{list.remark}}</text></block><block wx:else><text class="gray_font">请告诉我们需要注意的地方</text></block></view></view></view></block></view></view></block></view><block wx:if="{{giftInfo[ruleKind]}}"><view class="gift"><view class="class_name"><text class="class_tag">赠品</text><text>赠品(1)</text></view><view class="single_good"><view class="flex"><view class="good_img"><block wx:if="{{config.logo&&config.shuiyin==1}}"><image class="shuiyin" src="{{config.logo}}" mode="aspectFit"></image></block><image class="have_img" src="{{giftInfo[ruleKind].item[0].img==''?imgRemote+config.item_default:giftInfo[ruleKind].item[0].img}}" mode="aspectFit"></image></view><view class="align_center flex_left_right" style="width:100%;"><text>{{giftInfo[ruleKind].item[0].title}}</text><text>{{"X"+giftInfo[ruleKind].item[0].num}}</text></view></view></view></view></block><view hidden="{{!(showRemark)}}" class="mask"><view class="mask_overly"></view><view class="remark_dialog"><view class="title">确定要修改备注吗</view><view class="textarea"><textarea class="vue-ref" focus="{{showRemark}}" placeholder="请输入你想说的" placeholder-class="place_style" show-confirm-bar="{{confirmBar}}" data-ref="text_id" data-event-opts="{{[['input',[['__set_model',['','remark','$event',[]]]]]]}}" value="{{remark}}" bindinput="__e"></textarea></view><view class="buttons"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="cancel" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['determine',['$event']]]]]}}" bindtap="__e">确定</view></view></view></view><uni-popup class="vue-ref" vue-id="4723387c-3" type="bottom" data-ref="popup" data-event-opts="{{[['^maskInfo',[['closeKey']]]]}}" bind:maskInfo="__e" bind:__l="__l" vue-slots="{{['default']}}"><my-keyboard class="vue-ref" vue-id="{{('4723387c-4')+','+('4723387c-3')}}" arrObj="{{shopItem}}" data-ref="keyboard" data-event-opts="{{[['^cancelKey',[['e1']]],['^toParent',[['toParent']]]]}}" bind:cancelKey="__e" bind:toParent="__e" bind:__l="__l"></my-keyboard></uni-popup></view>