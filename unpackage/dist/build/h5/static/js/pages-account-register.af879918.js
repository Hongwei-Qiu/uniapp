(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-account-register"],{"187b":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,"uni-page-body[data-v-f3e74318]{background:#fff}.register .get_info[data-v-f3e74318]{background:#fff;padding:0 %?20?%;margin-top:%?10?%}.register .get_info>uni-view[data-v-f3e74318]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:1px solid #f7f6f6}.register .get_info>uni-view>uni-text[data-v-f3e74318]{width:%?150?%;color:grey}.register .button_style[data-v-f3e74318]{font-size:%?32?%;width:%?384?%;height:%?64?%;line-height:%?64?%}.register .now_login[data-v-f3e74318]{color:#a1a1a1;text-align:center;font-size:%?24?%;height:%?500?%}.register .agree[data-v-f3e74318]{position:fixed;width:100%;bottom:%?20?%;text-align:center;font-size:%?24?%;color:#418d5f}body.?%PAGE?%[data-v-f3e74318]{background:#fff}",""]),e.exports=t},"670c":function(e,t,i){var a=i("187b");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("0329deb5",a,!0,{sourceMap:!1,shadowMode:!1})},8831:function(e,t,i){"use strict";i.r(t);var a=i("af08"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"8cde":function(e,t,i){"use strict";var a={uniNavBar:i("8e61").default,myIdentifyingcode:i("c683").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"register"},[i("uni-nav-bar",{attrs:{"left-icon":"arrowleft",title:"注册","status-bar":e.navBar,fixed:"true"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.leftClick.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"get_info"},[i("v-uni-view",[i("v-uni-text",[e._v("单位名称")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请输入单位名称","placeholder-class":"place_style"},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}})],1),i("v-uni-view",[i("v-uni-text",[e._v("手机号")]),i("v-uni-input",{attrs:{type:"number",placeholder:"请输入手机","placeholder-class":"place_style"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),i("v-uni-view",[i("v-uni-text",[e._v("密码")]),i("v-uni-input",{attrs:{password:!0,placeholder:"请输入六位及以上的密码","placeholder-class":"place_style"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),i("v-uni-view",[i("v-uni-text",[e._v("确认密码")]),i("v-uni-input",{attrs:{password:!0,placeholder:"请再次确认登录密码","placeholder-class":"place_style"},model:{value:e.confirm_pwd,callback:function(t){e.confirm_pwd=t},expression:"confirm_pwd"}})],1),i("move-verify",{ref:"verifyElement",on:{result:function(t){arguments[0]=t=e.$handleEvent(t),e.verifyResult.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"flex"},[i("v-uni-text",[e._v("验证码")]),i("v-uni-view",{staticClass:"flex_left_right",staticStyle:{width:"79%"}},[i("v-uni-input",{attrs:{type:"number",placeholder:"请输入验证码","placeholder-class":"place_style"},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.back=!1}},model:{value:e.verify_code,callback:function(t){e.verify_code=t},expression:"verify_code"}}),i("my-identifyingcode",{ref:"code",on:{getCode:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}})],1)],1)],1),i("v-uni-view",{staticClass:"submit_button button_style",class:{gray_b:e.back},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.register.apply(void 0,arguments)}}},[e._v("提交")]),i("v-uni-view",{staticClass:"now_login",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pageUrl("login")}}},[e._v("已有账户？现在登录>>")]),e.display?i("v-uni-view",{staticClass:"agree",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pageUrl("treaty")}}},[e._v("注册协议")]):e._e()],1)},o=[];i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}))},af08:function(e,t,i){"use strict";var a=i("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("5ceb")),o=a(i("ef9c")),s=a(i("d351")),r=getApp().globalData,l=r.navBar,c=r.appid,d=r.appsecret,u={components:{moveVerify:n.default},data:function(){return{navBar:l,nickname:"",mobile:"",password:"",confirm_pwd:"",number_code:"",verify_code:"",showcode:!1,back:!0,display:!0,identifying:"",resultData:{}}},methods:{leftClick:function(){uni.navigateBack({delta:1})},pageUrl:function(e){uni.navigateTo({url:e})},verifyResult:function(e){this.resultData=e,1!=this.resultData.flag||this.captcha()},captcha:function(){var e=this,t=Math.round((new Date).getTime()/1e3),i={appid:c,timeStamp:t},a=o.default.hexMD5(s.default.objKeySort(i)+d),n=Object.assign({sign:a},i);s.default.getRequests("random",n,(function(t){var i=t.data;200==i.code?(e.number_code=i.data.number,uni.setStorageSync("laravel_session",t.header["Set-Cookie"])):s.default.Toast(i.msg)}))},getCode:function(){var e=Math.round((new Date).getTime()/1e3);if(this.mobile)if(this.number_code){var t=/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/;if(t.test(this.mobile)){var i={appid:c,mobile:this.mobile,timeStamp:e},a=this,n=o.default.hexMD5(s.default.objKeySort(i)+d),l=o.default.hexMD5(d+this.number_code),u=Object.assign({sign:n,secret_str:l,active:2},i);uni.request({url:r.rootUrl+"/mobileOrder/sendCode",method:"POST",header:{"content-type":"application/json",cookie:uni.getStorageSync("laravel_session")},data:u,success:function(e){200==e.data.code?(a.$refs.code.sendCode(),a.number_code=e.data.data.random_str,s.default.Toast("验证码已发送到你手机中，请注意查收")):(a.verifyReset(),s.default.Toast(e.data.msg))}})}else uni.showToast({title:"不能输入特殊字符和空格",duration:2e3,icon:"none"})}else s.default.Toast("请先拖动滑块");else s.default.Toast("手机号不能为空")},verifyReset:function(){this.$refs.verifyElement.reset(),this.resultData={}},register:function(){if(this.nickname)if(this.mobile)if(this.password){var e=/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/;if(e.test(this.nickname)&&e.test(this.mobile)&&e.test(this.password))if(this.password.length<6)s.default.Toast("请设置六位及以上的密码");else if(this.password==this.confirm_pwd){var t=Math.round((new Date).getTime()/1e3),i={appid:c,timeStamp:t,nickname:this.nickname,mobile:this.mobile,password:this.password,confirm_pwd:this.confirm_pwd,verify_code:this.verify_code},a=o.default.hexMD5(s.default.objKeySort(i)+d);this.identifying&&(i.openid=this.identifying);var n=Object.assign({sign:a},i),l=this;uni.request({url:r.rootUrl+"/mobileOrder/register",method:"POST",data:n,header:{"content-type":"application/json",cookie:uni.getStorageSync("laravel_session")},success:function(e){200==e.data.code?(s.default.Toast("注册成功"),setTimeout((function(){uni.navigateTo({url:"./login"})}),1e3)):(s.default.Toast(e.data.msg),l.verifyReset())}})}else s.default.Toast("请确保密码一致");else s.default.Toast("不能输入特殊字符和空格")}else s.default.Toast("密码不能为空");else s.default.Toast("手机号不能为空");else s.default.Toast("单位名称不能为空")}},onReady:function(){var e=this;window.onresize=function(){e.display=!e.display}},onLoad:function(e){var t=this;t.identifying=e.identifying}};t.default=u},ecef:function(e,t,i){"use strict";var a=i("670c"),n=i.n(a);n.a},f2ff:function(e,t,i){"use strict";i.r(t);var a=i("8cde"),n=i("8831");for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("ecef");var s,r=i("f0c5"),l=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"f3e74318",null,!1,a["a"],s);t["default"]=l.exports}}]);