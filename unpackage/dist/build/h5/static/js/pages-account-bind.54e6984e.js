(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-account-bind"],{"1a73":function(t,e,n){"use strict";n.r(e);var a=n("b9de"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"25f9":function(t,e,n){"use strict";n.r(e);var a=n("cfd7"),i=n("1a73");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("7762");var r,c=n("f0c5"),u=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"2195ead2",null,!1,a["a"],r);e["default"]=u.exports},3782:function(t,e,n){n("d3b7"),n("ac1f"),n("25f0"),n("5319");var a=function(t,e){return t<<e|t>>>32-e},i=function(t,e){var n,a,i,o,r;return i=2147483648&t,o=2147483648&e,n=1073741824&t,a=1073741824&e,r=(1073741823&t)+(1073741823&e),n&a?2147483648^r^i^o:n|a?1073741824&r?3221225472^r^i^o:1073741824^r^i^o:r^i^o},o=function(t,e,n){return t&e|~t&n},r=function(t,e,n){return t&n|e&~n},c=function(t,e,n){return t^e^n},u=function(t,e,n){return e^(t|~n)},s=function(t,e,n,r,c,u,s){return t=i(t,i(i(o(e,n,r),c),s)),i(a(t,u),e)},d=function(t,e,n,o,c,u,s){return t=i(t,i(i(r(e,n,o),c),s)),i(a(t,u),e)},l=function(t,e,n,o,r,u,s){return t=i(t,i(i(c(e,n,o),r),s)),i(a(t,u),e)},f=function(t,e,n,o,r,c,s){return t=i(t,i(i(u(e,n,o),r),s)),i(a(t,c),e)},g=function(t){var e,n=t.length,a=n+8,i=(a-a%64)/64,o=16*(i+1),r=Array(o-1),c=0,u=0;while(u<n)e=(u-u%4)/4,c=u%4*8,r[e]=r[e]|t.charCodeAt(u)<<c,u++;return e=(u-u%4)/4,c=u%4*8,r[e]=r[e]|128<<c,r[o-2]=n<<3,r[o-1]=n>>>29,r},h=function(t){var e,n,a="",i="";for(n=0;n<=3;n++)e=t>>>8*n&255,i="0"+e.toString(16),a+=i.substr(i.length-2,2);return a},v=function(t){t=t.replace(/\x0d\x0a/g,"\n");for(var e="",n=0;n<t.length;n++){var a=t.charCodeAt(n);a<128?e+=String.fromCharCode(a):a>127&&a<2048?(e+=String.fromCharCode(a>>6|192),e+=String.fromCharCode(63&a|128)):(e+=String.fromCharCode(a>>12|224),e+=String.fromCharCode(a>>6&63|128),e+=String.fromCharCode(63&a|128))}return e};function p(t){var e,n,a,o,r,c,u,p,b,y=Array(),m=7,_=12,S=17,w=22,j=5,k=9,T=14,C=20,x=4,A=11,z=16,O=23,D=6,M=10,E=15,q=21;for(t=v(t),y=g(t),c=1732584193,u=4023233417,p=2562383102,b=271733878,e=0;e<y.length;e+=16)n=c,a=u,o=p,r=b,c=s(c,u,p,b,y[e+0],m,3614090360),b=s(b,c,u,p,y[e+1],_,3905402710),p=s(p,b,c,u,y[e+2],S,606105819),u=s(u,p,b,c,y[e+3],w,3250441966),c=s(c,u,p,b,y[e+4],m,4118548399),b=s(b,c,u,p,y[e+5],_,1200080426),p=s(p,b,c,u,y[e+6],S,2821735955),u=s(u,p,b,c,y[e+7],w,4249261313),c=s(c,u,p,b,y[e+8],m,1770035416),b=s(b,c,u,p,y[e+9],_,2336552879),p=s(p,b,c,u,y[e+10],S,4294925233),u=s(u,p,b,c,y[e+11],w,2304563134),c=s(c,u,p,b,y[e+12],m,1804603682),b=s(b,c,u,p,y[e+13],_,4254626195),p=s(p,b,c,u,y[e+14],S,2792965006),u=s(u,p,b,c,y[e+15],w,1236535329),c=d(c,u,p,b,y[e+1],j,4129170786),b=d(b,c,u,p,y[e+6],k,3225465664),p=d(p,b,c,u,y[e+11],T,643717713),u=d(u,p,b,c,y[e+0],C,3921069994),c=d(c,u,p,b,y[e+5],j,3593408605),b=d(b,c,u,p,y[e+10],k,38016083),p=d(p,b,c,u,y[e+15],T,3634488961),u=d(u,p,b,c,y[e+4],C,3889429448),c=d(c,u,p,b,y[e+9],j,568446438),b=d(b,c,u,p,y[e+14],k,3275163606),p=d(p,b,c,u,y[e+3],T,4107603335),u=d(u,p,b,c,y[e+8],C,1163531501),c=d(c,u,p,b,y[e+13],j,2850285829),b=d(b,c,u,p,y[e+2],k,4243563512),p=d(p,b,c,u,y[e+7],T,1735328473),u=d(u,p,b,c,y[e+12],C,2368359562),c=l(c,u,p,b,y[e+5],x,4294588738),b=l(b,c,u,p,y[e+8],A,2272392833),p=l(p,b,c,u,y[e+11],z,1839030562),u=l(u,p,b,c,y[e+14],O,4259657740),c=l(c,u,p,b,y[e+1],x,2763975236),b=l(b,c,u,p,y[e+4],A,1272893353),p=l(p,b,c,u,y[e+7],z,4139469664),u=l(u,p,b,c,y[e+10],O,3200236656),c=l(c,u,p,b,y[e+13],x,681279174),b=l(b,c,u,p,y[e+0],A,3936430074),p=l(p,b,c,u,y[e+3],z,3572445317),u=l(u,p,b,c,y[e+6],O,76029189),c=l(c,u,p,b,y[e+9],x,3654602809),b=l(b,c,u,p,y[e+12],A,3873151461),p=l(p,b,c,u,y[e+15],z,530742520),u=l(u,p,b,c,y[e+2],O,3299628645),c=f(c,u,p,b,y[e+0],D,4096336452),b=f(b,c,u,p,y[e+7],M,1126891415),p=f(p,b,c,u,y[e+14],E,2878612391),u=f(u,p,b,c,y[e+5],q,4237533241),c=f(c,u,p,b,y[e+12],D,1700485571),b=f(b,c,u,p,y[e+3],M,2399980690),p=f(p,b,c,u,y[e+10],E,4293915773),u=f(u,p,b,c,y[e+1],q,2240044497),c=f(c,u,p,b,y[e+8],D,1873313359),b=f(b,c,u,p,y[e+15],M,4264355552),p=f(p,b,c,u,y[e+6],E,2734768916),u=f(u,p,b,c,y[e+13],q,1309151649),c=f(c,u,p,b,y[e+4],D,4149444226),b=f(b,c,u,p,y[e+11],M,3174756917),p=f(p,b,c,u,y[e+2],E,718787259),u=f(u,p,b,c,y[e+9],q,3951481745),c=i(c,n),u=i(u,a),p=i(p,o),b=i(b,r);var $=h(c)+h(u)+h(p)+h(b);return $.toLowerCase()}t.exports={hexMD5:p}},"3c83":function(t,e,n){var a=n("6244");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("947b9c7e",a,!0,{sourceMap:!1,shadowMode:!1})},6244:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-2195ead2]{background:#fff}.register .get_info[data-v-2195ead2]{background:#fff;padding:0 %?20?%;margin-top:%?10?%}.register .get_info>uni-view[data-v-2195ead2]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:1px solid #f7f6f6}.register .get_info>uni-view>uni-text[data-v-2195ead2]{width:%?150?%;color:grey}.register .button_style[data-v-2195ead2]{font-size:%?32?%;width:%?384?%;height:%?64?%;line-height:%?64?%}.register .now_login[data-v-2195ead2]{color:#a1a1a1;text-align:center;font-size:%?24?%}.register .agree[data-v-2195ead2]{position:fixed;width:100%;bottom:%?20?%;text-align:center;font-size:%?24?%;color:#418d5f}body.?%PAGE?%[data-v-2195ead2]{background:#fff}",""]),t.exports=e},7762:function(t,e,n){"use strict";var a=n("3c83"),i=n.n(a);i.a},b9de:function(t,e,n){"use strict";var a=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("bf09")),o=a(n("3782")),r=a(n("fe41")),c=getApp().globalData,u=c.navBar,s=c.appid,d=c.appsecret,l={components:{moveVerify:i.default},data:function(){return{resultData:{},mobile:"",verify_code:"",secret_str:"",identifying:"",navBar:u,back:!0}},methods:{leftClick:function(){uni.navigateBack({delta:1})},verifyResult:function(t){this.resultData=t,1!=this.resultData.flag||this.captcha()},verifyReset:function(){this.$refs.verifyElement.reset(),this.resultData={}},captcha:function(){var t=this,e=Math.round((new Date).getTime()/1e3),n={appid:s,timeStamp:e},a=o.default.hexMD5(r.default.objKeySort(n)+d),i=Object.assign({sign:a},n);r.default.getRequests("random",i,(function(e){var n=e.data;200==n.code?(t.secret_str=n.data.number,uni.setStorageSync("laravel_session",e.header["Set-Cookie"])):r.default.Toast(n.msg)}))},getCode:function(){var t=this,e=Math.round((new Date).getTime()/1e3);if(t.mobile){var n=/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/;if(n.test(t.mobile))if(t.secret_str){var a={appid:s,mobile:t.mobile,timeStamp:e},i=o.default.hexMD5(d+t.secret_str),u=o.default.hexMD5(r.default.objKeySort(a)+d),l=Object.assign({sign:u,secret_str:i},a);uni.request({url:c.rootUrl+"/mobileOrder/sendCodeNot",method:"POST",header:{"content-type":"application/json",cookie:uni.getStorageSync("laravel_session")},data:l,success:function(e){200==e.data.code?(t.secret_str=e.data.data.random_str,r.default.Toast("验证码已发送到你手机中，请注意查收"),t.$refs.code.sendCode()):(t.verifyReset(),r.default.Toast(e.data.msg))}})}else r.default.Toast("请拖动滑块验证");else r.default.Toast("不能输入特殊字符和空格")}else r.default.Toast("手机号不能为空")},forget:function(){var t=this,e=/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/;if(this.mobile)if(e.test(this.mobile))if(this.verify_code){var n=Math.round((new Date).getTime()/1e3),a={appid:s,timeStamp:n},i=o.default.hexMD5(r.default.objKeySort(a)+d),u=Object.assign({sign:i,mobile:this.mobile,code:this.verify_code,identifying:t.identifying},a);uni.request({url:c.rootUrl+"/mobileOrder/wxLoginFollow",method:"POST",data:u,header:{"content-type":"application/json",cookie:uni.getStorageSync("laravel_session")},success:function(t){if(200==t.data.code){var e=t.data;r.default.Toast("手机号绑定成功"),uni.setStorageSync("cdj_token",e.data.token),uni.setStorageSync("is_child",e.data.is_child),uni.setStorageSync("is_miniBind",e.data.is_bind),setTimeout((function(){uni.switchTab({url:"../tabar/index"})}),1e3)}else 403==t.data.code?(r.default.Toast("绑定手机成功，请耐心等待审核"),setTimeout((function(){uni.navigateTo({url:"./login"})}),1e3)):r.default.Toast(t.data.msg)}})}else r.default.Toast("请输入验证码");else r.default.Toast("不能输入特殊字符和空格");else r.default.Toast("手机号不能为空")}},onLoad:function(t){this.identifying=t.identifying}};e.default=l},cfd7:function(t,e,n){"use strict";var a={"uni-nav-bar":n("01c8").default,"my-identifyingcode":n("858d").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"register"},[n("uni-nav-bar",{attrs:{"left-icon":"arrowleft",title:"更换手机","status-bar":t.navBar,fixed:"true"},on:{clickLeft:function(e){arguments[0]=e=t.$handleEvent(e),t.leftClick.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"get_info"},[n("v-uni-view",[n("v-uni-text",[t._v("手机号")]),n("v-uni-input",{attrs:{type:"number",placeholder:"请输入手机号","placeholder-class":"place_style"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),n("move-verify",{ref:"verifyElement",on:{result:function(e){arguments[0]=e=t.$handleEvent(e),t.verifyResult.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"flex"},[n("v-uni-text",[t._v("验证码")]),n("v-uni-view",{staticClass:"flex_left_right",staticStyle:{width:"79%"}},[n("v-uni-input",{attrs:{type:"number","placeholder-class":"place_style"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.back=!1}},model:{value:t.verify_code,callback:function(e){t.verify_code=e},expression:"verify_code"}}),n("my-identifyingcode",{ref:"code",on:{getCode:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}})],1)],1)],1),n("v-uni-view",{staticClass:"submit_button button_style",class:{gray_b:t.back},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.forget.apply(void 0,arguments)}}},[t._v("立即绑定")])],1)},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},fe41:function(t,e,n){n("4160"),n("4e82"),n("b64b"),n("159b");var a=getApp(),i={active:a.globalData.active},o=a.globalData.rootUrl+"/mobileOrder/";if(uni.getStorageSync("cdj_token"))var r={Accept:"application/json","content-type":"application/json",Authorization:uni.getStorageSync("cdj_token")};function c(t,e,n){uni.showLoading({title:"加载中...",duration:2e3,mask:!0,success:function(a){uni.request({url:o+t,method:"GET",header:{Accept:"application/json","content-type":"application/json",Authorization:uni.getStorageSync("cdj_token")},data:Object.assign(e,i),success:function(t){n(t),void 0!=t.header.Authorization&&uni.setStorageSync("cdj_token",t.header.Authorization),400==t.data.code&&uni.showToast({title:t.data.msg,icon:"none",duration:2e3,success:function(){}}),401==t.data.code&&uni.navigateTo({url:"/pages/account/login"}),uni.hideLoading()},fail:function(t){uni.showModal({title:t.data,content:"网络出错，请刷新重试",showCancel:!1})}})},fail:function(t){},complete:function(t){}})}function u(t,e,n){uni.request({url:o+t,method:"GET",header:{Accept:"application/json","content-type":"application/json",Authorization:uni.getStorageSync("cdj_token")},data:Object.assign(e,i),success:function(t){n(t),void 0!=t.header.Authorization&&uni.setStorageSync("cdj_token",t.header.Authorization),401==t.data.code&&uni.navigateTo({url:"/pages/account/login"}),408==t.data.code&&uni.navigateTo({url:"/pages/account/service"})},fail:function(t){uni.showModal({title:t.data,content:"网络出错，请刷新重试",showCancel:!1})}})}function s(t,e,n){uni.showLoading({title:"加载中",mask:!0,success:function(a){uni.request({url:o+t,method:"POST",header:{Accept:"application/json","content-type":"application/json",Authorization:uni.getStorageSync("cdj_token")},data:Object.assign(e,i),success:function(t){n(t),void 0!=t.header.Authorization&&uni.setStorageSync("cdj_token",t.header.Authorization),400==t.data.code&&uni.showToast({title:t.data.msg,icon:"none",duration:2e3,success:function(){}}),401==t.data.code&&uni.navigateTo({url:"/pages//account/login"}),403==t.data.code&&uni.showToast({title:"账号已禁用",icon:"none",duration:2e3,success:function(){uni.navigateTo({url:"/pages/account/login"})}}),408==t.data.code&&uni.showToast({title:"抱歉，您的服务已到期，请联系《菜东家》工作人员续费！",icon:"none",duration:2e3}),uni.hideLoading()},fail:function(t){uni.showModal({title:"网络错误",content:"网络出错，请刷新重试",showCancel:!1})}})},fail:function(t){},complete:function(t){}})}function d(t,e,n){uni.request({url:o+t,method:"POST",header:{Accept:"application/json","content-type":"application/json",Authorization:uni.getStorageSync("cdj_token")},data:Object.assign(e,i),success:function(t){n(t),void 0!=t.header.Authorization&&uni.setStorageSync("cdj_token",t.header.Authorization),401==t.data.code&&uni.navigateTo({url:"/pages/account/login"})},fail:function(t){uni.showModal({title:"网络错误",content:"网络出错，请刷新重试",showCancel:!1})}})}function l(t){for(var e=Object.keys(t).sort(),n={},a="",i=0;i<e.length;i++)n[e[i]]=t[e[i]];return Object.keys(n).forEach((function(t){a+="&"+t+"="+n[t]})),a.substr(1)}function f(t){uni.showToast({title:t,icon:"none",duration:1e3})}t.exports={getRequest:c,getRequests:u,postRequest:s,postRequests:d,Toast:f,header:r,objKeySort:l}}}]);