(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/accountedit"],{"0274":function(t,e,a){"use strict";var n=a("1074"),i=a.n(n);i.a},"0527":function(t,e,a){"use strict";a.r(e);var n=a("fcd5"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"06c4":function(t,e,a){"use strict";var n={"uni-nav-bar":function(){return a.e("components/uni-nav-bar/uni-nav-bar").then(a.bind(null,"01c8"))},"evan-switch":function(){return a.e("components/evan-switch/evan-switch").then(a.bind(null,"32d7"))},"uni-icons":function(){return Promise.all([a.e("common/vendor"),a.e("components/uni-icons/uni-icons")]).then(a.bind(null,"4aa4"))}},i=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}))},1074:function(t,e,a){},5801:function(t,e,a){"use strict";(function(t){a("47a8"),a("921b");n(a("66fd"));var e=n(a("5a81"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"5a81":function(t,e,a){"use strict";a.r(e);var n=a("06c4"),i=a("0527");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("0274");var u,c=a("f0c5"),d=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);e["default"]=d.exports},fcd5:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a("3782")),i=o(a("fe41"));function o(t){return t&&t.__esModule?t:{default:t}}var u=console,c=(u.log,getApp().globalData),d=c.appid,s=c.appsecret,l=(c.imgRemote,c.navBar),r={data:function(){return{navBar:l,checked:!1,status:"",childInfo:"",select_zid:"",longitude:"",latitude:"",save:!0,password:"",count:"",hide:""}},methods:{leftClick:function(){this.hide=!0,t.navigateBack({delta:1})},urlPage:function(){0==this.save?t.showModal({title:"放弃编辑",content:"地址信息未保存，确定离开吗？",success:function(e){e.confirm?t.navigateTo({url:"accountmange"}):e.cancel}}):t.navigateTo({url:"accountmange"})},mapPage:function(){var e=this;t.chooseLocation({success:function(t){e.childInfo.address=t.address;var a=e.tobdMap(t.longitude,t.latitude);e.lng=a.lng,e.lat=a.lat}})},tobdMap:function(t,e){var a=52.35987755982988,n=t,i=e,o=Math.sqrt(n*n+i*i)+2e-5*Math.sin(i*a),u=Math.atan2(i,n)+3e-6*Math.cos(n*a),c=o*Math.cos(u)+.0065,d=o*Math.sin(u)+.006;return{lng:c,lat:d}},deleteAccount:function(){var e=this;t.showModal({title:"提示",content:"是否删除该子账号？",success:function(a){if(a.confirm){var o=e.select_zid,u=Math.round((new Date).getTime()/1e3),c={appid:d,select_zid:o,timeStamp:u},l=n.default.hexMD5(i.default.objKeySort(c)+s),r={appid:d,timeStamp:u,select_zid:o,sign:l};i.default.getRequests("delChild",r,(function(e){101==e.data.code&&i.default.Toast("该账号已产生数据，无法删除"),200==e.data.code&&(i.default.Toast("删除成功"),setTimeout((function(){t.navigateTo({url:"accountmange"})}),1e3))}))}else a.cancel}})},openStatu:function(t){var e=this;e.checked=t.target.value},memberAddressInfo:function(){var t=this,e=t.select_zid,a=Math.round((new Date).getTime()/1e3),o={appid:d,timeStamp:a},u=n.default.hexMD5(i.default.objKeySort(o)+s),c={appid:d,timeStamp:a,sign:u,select_zid:e};i.default.getRequests("memberAddressInfo",c,(function(e){200==e.data.code&&(t.childInfo=e.data.data,t.status=e.data.data.status,0==t.status?t.checked=!1:1==t.status&&(t.checked=!0))}))},formSubmit:function(e){var a=this,o=a.select_zid;if(0==a.checked)var u=0;else if(1==a.checked)u=1;var c=e.detail.value.nickname,l=e.detail.value.contact,r=e.detail.value.mobile,f=e.detail.value.password,h=a.childInfo.address,m=a.longitude,v=a.latitude,p=e.detail.value.details,g=Math.round((new Date).getTime()/1e3),b={address:h,appid:d,contact:l,mobile:r,nickname:c,password:f,status:u,timeStamp:g,zid:o},M=n.default.hexMD5(i.default.objKeySort(b)+s);if(""==c)return i.default.Toast("名称不能为空"),!1;if(""==l)return i.default.Toast("联系人不能为空"),!1;if(""==r)return i.default.Toast("手机号不能为空"),!1;var _={address:h,appid:d,contact:l,mobile:r,nickname:c,password:f,status:u,zid:o,timeStamp:g,sign:M,longitude:m,latitude:v,details:p};i.default.postRequests("editChild",_,(function(e){200==e.data.code&&(i.default.Toast("修改成功"),a.save=!0,setTimeout((function(){t.navigateTo({url:"accountmange"})}),1e3)),400==e.data.code&&i.default.Toast(e.data.msg)}))}},onLoad:function(e){var a=t.getStorageSync("amend");a?(this.childInfo=a.childInfo,this.password=a.password,this.select_zid=a.select_zid):this.select_zid=e.select_zid,this.latitude=e.lat,this.longitude=e.lng,this.count=e.count||1,1==this.count&&this&&this.memberAddressInfo()},onHide:function(){1==this.hide&&t.removeStorage({key:"amend"})}};e.default=r}).call(this,a("543d")["default"])}},[["5801","common/runtime","common/vendor"]]]);