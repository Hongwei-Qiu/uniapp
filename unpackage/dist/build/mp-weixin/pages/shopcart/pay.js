(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopcart/pay"],{"0686":function(t,a,e){"use strict";e.r(a);var n=e("fb5f"),i=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);a["default"]=i.a},1539:function(t,a,e){},1600:function(t,a,e){"use strict";var n={uniNavBar:function(){return e.e("components/uni-nav-bar/uni-nav-bar").then(e.bind(null,"8e61"))}},i=function(){var t=this,a=t.$createElement;t._self._c},o=[];e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return n}))},"8a7d":function(t,a,e){"use strict";var n=e("1539"),i=e.n(n);i.a},a98a:function(t,a,e){"use strict";e.r(a);var n=e("1600"),i=e("0686");for(var o in i)"default"!==o&&function(t){e.d(a,t,(function(){return i[t]}))}(o);e("8a7d");var u,r=e("f0c5"),s=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);a["default"]=s.exports},e138:function(t,a,e){"use strict";(function(t){e("c976"),e("921b");n(e("66fd"));var a=n(e("a98a"));function n(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("543d")["createPage"])},fb5f:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(e("ef9c")),i=o(e("d351"));function o(t){return t&&t.__esModule?t:{default:t}}var u=console,r=u.log,s=getApp().globalData,c=s.appid,d=s.appsecret,f=(s.imgRemote,s.navBar),l={data:function(){return{navBar:f,id:"",is_miniBind:t.getStorageSync("is_miniBind"),list:[],isDisable:!0}},methods:{leftClick:function(){t.navigateBack({delta:1})},cancelPay:function(){t.switchTab({url:"/pages/tabar/shopcart"})},bindWechat:function(){i.default.Toast("该账号未绑定微信，请先绑定再来支付"),setTimeout((function(){t.switchTab({url:"/pages/tabar/user"})}),1e3)},payOrder:function(){console.log(132);var a=this.id,e=Math.round((new Date).getTime()/1e3),o={appid:c,timeStamp:e,oid:a,type:"mini"},u=n.default.hexMD5(i.default.objKeySort(o)+d),s=Object.assign({sign:u},o);i.default.postRequests("payTemOrder",s,(function(a){var e=a.data;if(200==e.code){if(1==e.data.payType&&(i.default.Toast("支付成功"),setTimeout((function(){t.switchTab({url:"/pages/tabar/order"})}),1e3)),r(a.data.data.wxParams),2==a.data.data.payType){var n=a.data.data.wxParams;t.requestPayment({provider:"wxpay",orderInfo:n,timeStamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:n.signType,paySign:n.paySign,success:function(a){console.log("success:"+JSON.stringify(a)),i.default.Toast("支付成功"),setTimeout((function(){t.switchTab({url:"/pages/tabar/order"})}),1e3)},fail:function(t){console.log(t),i.default.Toast("充值失败")}})}}else i.default.Toast(e.msg)}))},temOrder:function(){var a=this,e=Math.round((new Date).getTime()/1e3),o={appid:c,timeStamp:e,id:this.id},u=n.default.hexMD5(i.default.objKeySort(o)+d),r=Object.assign({sign:u},o);i.default.getRequests("temOrderMsg",r,(function(e){var n=e.data;200==n.code?a.list=n.data:t.showToast({title:n.msg,duration:2e3,icon:"none"})}))}},onShow:function(){this.temOrder()},onLoad:function(t){this.id=t.id}};a.default=l}).call(this,e("543d")["default"])}},[["e138","common/runtime","common/vendor"]]]);